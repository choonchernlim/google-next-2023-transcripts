{
    "title": "Availability and performance with Cloud SQL for PostgreSQL",
    "presentation_type": "Breakout",
    "categories": [
        "Database Professionals",
        "DBS206"
    ],
    "video_id": "FePJwPX7EMQ",
    "time": "Aug 29 04:45 PM - 05:30 PM CDT",
    "transcript": "foreign[Music]I hope all of you having great GoogleCloud next 2023 thank you so much fortaking the time from your busy day andspending it with usover the next 45 minutes we're going tobe talking about postgresI'm going to kick it off by saying thatI love postgres and the fact that all ofyou are here today means I think all ofyou love postgres as well is that rightMake Some Noise if you love postgres allright awesome I need itso postgres is one of the most popularopen source relational databases in theworldand for good reason postgres has been inactive development now for over 35 yearsand it all started at the University ofCalifornia and Berkeley not far awayfrom here right and because of 35 yearsof active development what we have is anopen source database that is robustan open source database that scalesreally welland open source database that isextensible which means you can easilycustomize it for the use case that youhave in mind and last but not least anopen source database that is highlyconformant with the ANSI SQL standardshundreds and hundreds of people aroundthe world have contributed to makepostgres what it is todayand all around the world just like howwe've come together here today to talkabout postgres there are hundreds ofevents and user groups but people wholike postgres come together brainstormand learn from each other so I'm goingto take a moment to thank the poselesscommunity for making this open sourcedatabase available for usso this is the agenda for the next 45minutes we're going to do introductionsI'll introduce the speakers for today wewill then do an introduction of cloudSQL and Cloud SQL for postgreswe will then talk about some of theInnovations we recently made in CloudSQL specifically around availability andperformance two vectors that are veryimportant if you want to run Missioncritical workloads on postgreswe'll deep dive into them and we'll talkto you about how we made theseInnovations possibleand like I said earlier postgres ishighly extensible which means that youcan modify it quickly to meet the usecases that are important for you onesuch use case that is very which is ofhigh interest right now is Gen AI sowe'll talk about Ai and ML and we'lldeep dive into how you can use postgresfor building gen AI applicationsthat will bring to Cloud SQL forpostgres users on stage they will talkto you about how they've deployed CloudSQL for postgres at scale what lessonsthey've learned from that and bestpractices that they'll share with youwe'll follow that with q a so there's amic over here if you have any questionsplease come up to the mic and ask thosequestions so that everybody can hear thequestion of course Jana and I will behere after the session as well to answerany questions that you might haveso my name is Bala narasimhan I'm agroup product manager for cloud SQL I'mjoined on stage by Jana van goon Jana isengineering director for cloud SQL wewill be joined on stage by with RichardHelms Richard is a manager for databaseengineering at sales Loft and also StacyKnapps Stacy is an engineering managerfor SRE at pen entertainmentso let's start off by a quickintroduction to Cloud SQL and Cloud SQLfor postgres so what is cloud SQL CloudSQL is a managed service for relationaldatabases Cloud SQL is a tried andtested serviceupwards of 95 percent of all gcp gcp'stop 100 users use cloud SQL todayCloud SQL supports three relationaldatabase engines postgres MySQL and SQLserver and we aspire to give you fullcompatibility with these three enginesand what I mean by that is if you havean application that runs today and isleveraging one of those three enginesyou should be able to move thatapplication to Cloud SQL as is and itwill just workCloud SQL is also fully managed andEnterprise ready what that basicallymeans is with a few clicks or with anAPI call you are able to provision acloud SQL instance you no longer have toworry about provisioning infrastructurepatching software setting up workflowsfor availability data protectionDisaster Recovery Etc because we takecare of all of that for you we take careof the mundane so that you can focus onwhat matters which is buildingapplicationswe bring Google's best practices aroundsecurity for youand last but not least we aspire to bedeveloper friendly what we mean by thatis if there's a developer who wants tobuild a new application we want them tobe comfortable using Cloud SQL to thatend we Embrace infrastructure as code wehave full terraform support we have KCCsupport we have a powerful API that youcan use and every workflow that you cando through the console you can dothrough the API as well we also bringyou developer-centric observability viaquery insights and system insights itprovides you a rich set of traces logsand metrics so that you can troubleshootyour instance quite easilyCloud SQL for postgres is postgres as amanaged service it is open sourcepostgres we provide you open sourcepostgres as a managed service this meansthat you are able to leverage all theInnovation that the community isbuilding for youand there's no concerns around usingproprietary software because this isopen source postgres because it is amanaged service like I said earlier wetake care of the mundane for you youdon't have to provision infrastructureyou don't need to patch software and youdon't need to set up complicatedworkflows for things like availabilityand data protection we take care of allof that for you you can spin up aninstance in a few minutes and you canfocus on building new applicationsand Cloud signal postgres is innovatingrapidly on the right hand side of theslide here you're seeing few of theinnovations that we've had recently thefirst is PG Vector support which allowsyou to build gen AI applications and asI said earlier we'll be deep diving intothat some other things is support for upto almost 200 flags and 50 plusextensions on the security front thesupport for IIM based authentication andstrong password policies for localusername passwords more recently welaunched pi3r support for unavailableinstances you're able to now do point intime recovery even when an instance isdown which reduces the RPO and RPOconsiderablybut we understand that a database isjust one piece of the puzzle as you'relooking to build an application you wantan entire ecosystem around the databaseyou want solutions for migrations youwant solutions for bi and analytics youwant solutions for observability andsecurity and so be really excited toannounce Google cloud ready Cloud SQLPartners today so this is a set of toolsthat we have certified through a duediligence process to make sure thatthese tools work really well with CloudSQL right so you have the peace of mindthat if you want to use one of thosetools they have gone through a rigoroustechnical evaluation process and itworks really well with Cloud SQLall right so now I'm going to spend sometime talking about the Innovationsaround availability and performance thatwe recently announced for cloud SQLspecifically I'm going to talk about theEnterprise Plus Edition for postgresas customers are bringing theirapplications to the cloud they keepasking us for three things when they'retalking about their most Missioncritical applications the first ishigher performance the second is higheravailability and the third is betterdata protection and it goes along thesethree vectors that we innovated when weannounced the Enterprise Plus Editionfor postgresso two things to call out here for theEnterprise Plus the first is improveperformance and scale out of the box andthe other is business continuity theimprovements in business continuity solet's Deep dive into that let's talkabout how we were able to deliver betterperformance and scale out of the box andwhat the better business continuity isso as far as the Enterprise Plus Editiongoes there's two things that we've donefirstly we have optimized Hardware thatwe're using to provision these Cloud SQLinstances and secondly because we run avery large Fleet of postgres weunderstand how best to optimize thedeployment of that postgres software tobest Leverage The Power of the hardwareon which it's running and it's acombination of those two things thatallows the Enterprise Plus Edition tohave better performance out of the boxand we've seen up to a 2X Improvement inright throughput for Enterprise spreadplus Edition compared to the EnterpriseEdition so what are the specificHardware optimizations we are talkingabout here right the first is that we'releveraging the N family of machinestypes right so we're using the N familymachine types when you provisionEnterprise Plus instance you're gettingan N family machine type the second is ahigher core to memory ratio compared tothe Enterprise Edition where that ratiois one is to 6 and a half in EnterprisePlus that ratio is one is to eight whichmeans that for the same number of coresyou're getting more RAM which in turnmeans that you're able to store more ofthe working set of your database inmemory which results in betterperformancewe also are supporting larger instantshapes with Enterprise plus we'resupporting up to 128 cores and 864 gigsof RAM for a postgres instance that'sEnterprise Plus this is in contrast tothe Enterprise Edition where we support96 cores and 624 gigs of RAM so it's acombination of all of these Hardwareimprovements that are allowing us togive you better performance and as Imentioned earlier because we have thelearnings from running a very largeFleet of postgres instances we also knowhow best to deploy that postgressoftware in a way that will leveragethese Hardware improvements and it's acombination of those two things that'sresulting in the improved performanceand in our internal benchmarking we haveseen up to a 2X Improvement in rightthroughput for Enterprise Plus comparedto the Enterprise Editionso what are the Innovations we've madeon the business continuity front thefirst is that we announced a four ninesSLA for Enterprise Plusthis is in contrast the EnterpriseEdition which is a three and a halfnines SLAin addition to that Enterprise Plus hasmaintenance included in that SLA meaningthe four nines SLA is inclusive ofMaintenance downtimewhereas in the Enterprise Edition thethree and a half nines SLA has amaintenance curve outthe second thing is that we have reducedthe amount of time uh downtimeassociated with maintenance we call itnear zero downtime maintenance becausethat's exactly what it is the downtimeassociated with maintenance forEnterprise Plus additions is close tozero I have a demo that I can show youwill actually show you a postgresinstance that is undergoing maintenanceand you'll see the downtime associatedwith thatand last but not least we're announcing35 days of point in time recovery forEnterprise Plus instances we have anumber of customers who run in highlyregulated environments where they needto be able torestore an instance for up to 35 daysfrom a particular point in time and sowe are supporting 35 days of pitr thisis in contrast to Enterprise Editionwhere we support seven days of pitrso just to summarize the Enterprise PlusEdition has Innovations on three frontsthere's improved performance out of thebox there's improved availabilitybecause of the increased SLA and becauseof the fact that maintenance is now lessthan 10 seconds downtime and the thirdis data protection where we'resupporting 35 days of pitr forEnterprise Plus instancesand with that I'm going to jump into thedemo so before I kick this demo off andI hope the demo Gods will support mehere what we're going to let me give youa summary of what I'm going to show youI have a postgres instance running 15.2postgres version 15.2 it's an EnterprisePlus instance it's a production instancewhich means that it's set up with ahaenabled what we're going to do then iswe have a client that's going to connectto that postgres instance and thisclient is going to query for a timestampfrom this postgres database in a loop soyou'll see a timestamp being publishedcontinuously in a terminal on the rightand then we are going to kick offmaintenance on the Enterprise Plusinstancenow as some of you may know we supportwhat's called self-service maintenancefor cloud SQLin that mode we give you the patches andyou are able to do maintenance on yourpostgres instance as and when you chooseso you have the flexibility for in termsof taking maintenance when we do it foryou or if you want further control onthat we support self-service maintenancewhereby you can maintain your instanceas and when we choose right and so whatI'm going to do is I'm going to kick offself-service maintenance on thisinstance there's a patch available I'mgoing to install that patch and whenthat maintenance is happening you'regoing to see the client uh going throughsome disruption right because themaintenance is happening it's going toresult in some downtimeyou will see two seconds of hard downtime on that instance and you'll seeabout five seconds or so five or sixseconds if brownout meaning that youknow pretty much most connections aregoing through but there's a little bitof disruption right overall the downtimeis going to be less than 10 seconds witha hard downtime of just two secondsall right so let me keep this offall rightlet's see how this goesall right just to just to orient youhere on the left hand side is the cloudSQL console that's the production uhpostgres instance as you can see whereit's highlighted in green it supposethis 15 instance on the right hand sideis a client that is going to connect tothis databaseEnterprise Plushighly availablethank youand I'm going to show you the script nowas you can tell this script I'm going topause this video for a second so you cantake a look at what the script is doingas you can see it's running in a loopand it's querying the database for atimestampall right and so when I when I'm goingto run this script nowthere you goas you can see it's publishing atimestamp in a loopand now take a pause this for a minuteyou're seeing that there's a patchavailableright there's a patch available and I'mgoing to do self-service maintenance andI'm going to install this patch on thispostgres 15 instanceyeahmaintenance has startedyou're seeing the initial disruptionthere that's the hard downtime thatyou're seeing the application has comeback upright you're seeing that disruptionthere the application has come back upand it's connecting to the database andit's getting the timestamp back you'reseeing the intermittentuh connection loss thereoops what happenedokaysorry about thatI'm going to fast forward that was themost interesting partyeah so I'm going to pause this again soyou're seeing downtime started over herewhere the red arrow is and downtimeended when the the hard down time endedin the first Green Arrow so that's twoseconds of hard down time duringmaintenance just twookay and then you're seeing theintermittentconnections are coming through once in awhile there's a connection that dropsabout seven seconds of thatso this is in contrast By the way to themaintenance that you would haveexperienced in Enterprise Edition ofpostgres where the average downtime isless than 30 seconds so this is a 2XImprovement in downtime in EnterprisePlus Edition compared to Enterpriseright so for your most business criticalapplications this is a very big deal andsomething you should take a look atand definitely try Cloud SQL EnterprisePlusall right and with that we're going totransition to Ai and ML and as I saidearlier uh postgres is highly extensibleand a lot of our users want to build genAI applications on cloud SQL of postgresand we heard that feedback and we'veintroduced support for what's called PGVector in Cloud SQL for postgres and wehave a number of customers buildingthese applications Jana is going to talkabout the technology itself and how youcan go about building those applicationsusing Cloud SQL composersawesome thanks Bala yeah I think inaddition to all the really excitingthings in Enterprise plus there's alsosome really new kind of applicationLevel exciting features regarding Ai andml in postgres itselfso first I'll ask a question who knowswhat a vector ismaybe raise your handI know you know maybe four or fivemonths ago not none of us had reallyheard of it but now it's somethingthat's really taking the application youknow World by stormso the vector really is in sort ofsimple terms is you know life is full ofcomplex objects we may speak manylanguages there are images there arevideos and a vector maps all of theseinto just an array of numbers and youcan think about that or number if youwill as being a spot in amulti-dimensional spaceuh so you think why is any of thisimportant now you can take sentenceslike a boy is running and map that intoa space and the boy is walkingyou can even take the postgres elephantimage and map that into that space aswell I think that might be quite faraway from the boy walking or runningum but the really really cool thingabout these vectors and using you know amodel to create the vectorsis that the things that are semanticallycloser right so a boy doing activitiesthey're actually closer in this Vectorspace and things that are further awaylike maybe an adult runningwill actually be further away so let'ssay you know you're writing storiesabout children you can actually do asearch over all this data and find youknow for example book recommendationsabout you know children's activities andit's a it's a very very powerful tool ifyou want to add like rich and smartexperiences into your applicationthe other thing is that's that's allgood but why is this relevant todatabases well it turns out databasesare excellent at storing data numericaldata for sure in tables building indicesover those and then finding what youneed really fast and so it's a perfectfit to enable this kind of new data typeand new use case within the databaseitselfso the other thing digging a little bitinto how this might actually play out inan applicationif we take a retail exampleso let's say you had a data catalog inyour database maybe you have some otherdetails about you know your policies andhow to shop in your storeyou take all this data and essentiallyrun it through an embeddings model thatcreates the vectors that we just talkedaboutand then these are stored back in thedatabaseand that can be done offline it can berefreshed periodicallyso now a user will come around andthere's you know application runningand they ask maybe some questions likewhat's the return policy or hey you knowI'm searching for let's say an outfit towear to a talk can you show me you knowsimilar things or maybe appropriateclothingthis these kinds of semantic questionsare generally very hard to you knowanswer but this this Vector groupingmakes this all possibleand so basically the the text questionthat they have will be converted by anllmand basically you know then can bequeried to find similar types of objectsfrom the data you know from the databaseafter that it can be passed back into anllm so there's an integration herebetween databases and sort of themodeling the pre-trained models in AIand then pass back up to the userand you know so then the experiencebecomes a lot betterso as Bala mentioned there is now acommunity extension called PG vectorthat will enable all of these Vectoroperations for you so it supports avector data type but supports a numberof indices so that you can easilyretrieve similar resultsand the other part is why is thisimportant why is this excitingagain having it all in your database isa really powerful thing it means thatany of your operational concerns alreadytaken care ofas Paula mentioned you know all thesemundane but very important things aroundmanaging your database making sure it'savailableapplying you know security and otherpolicies to it those are already alltaken care of in your Cloud SQL databaseand so this is a very you know one clickeasy method installing the extensionto add a whole set of new capabilitiesto your application and have all of yourapplication developers use a database ina stack that they already know and loveand so this is again we think having itin database is really kind of a gamechanger and I should say the PG Vectorextension is available in Cloud SQL forpostgres as well as lodb for postgres soall of our postgres interfaces will havethisand we already have customers using thisthis is a quote from a retail customercalled find.comand they said that by using thisextension they've really been able tovastly enrich their retail experiencegive their users a lot more customizableyou know content and answersand they all did this with the databasethey know so it was really easy fortheir application developers to justturn this onand I will say this I think if youdidn't know what the vector or gen IIIwas before Google next please sign upfor many different sessions that we haveon itso I would say enough about you knowwe've given you a lot of informationabout all of the cool things that we'veshipped and everything that's new withinCloud SQL for postgres we'd like to nowactually bring some real customers realusers up onto the stage and here youknow from people from the horse's mouthwhat their experience isso please welcomeRichard and Stacy[Applause]coolso to start offum I will have them both introducethemselves and so Richard can you pleasetell us a little bit about yourself yourrole in the companysure my name is Richard Helms I work fora company called sales loft salesloft isa company that uh is basically a salesengagement platform we also like to callourselves the revenue workflow platformwe use something calledwe have a product called rhythm thatleverages Ai and we look at uhpeople sales data andtheir actions and Integrations withtheir go to market integration productsand things like that to help their salespeople engage betterand make sales their sales processbetter so me I work on the databaseengineering team manage the databaseEngineers my role is to keep our dataclean healthyperformant and uhyou know that's really my role in the inthe organization sorightum Stacy pleaseuh yeah thanks Richardumso I work at Penn entertainmentwe of course are an entertainmentcompany at the coreas you probably guessedumwesorrywe operate the Barstool Sportsbook andPen Entertainment also owns and operates43 brick and mortar casinos and racetracksum about two years ago pen entertainmentacquired a company called the score upin Canadawhich is where I reside in my Teamworksand we develop and operate the scoremedia and the score bet and I mentionedBarstool Sportsbookand some of you may have heard alreadythat we've entered a partnership withESPN to operate their sports book aswellummy team is responsible for you knowplanning and deploying all of theinfrastructure for cloud and on-premas well as the CI CD processes somesecurity aspectsand just generally you know keeping aneye on like the performance and thehealth of the backend servicesso you're both Cloud SQL users Cloud SQLfor postgres if you can please talk abit about how you use it today and maybedescribe some details about thedeployment and we'll go maybe in thesame order so Richard pleasesure we are a postgres only shopas far as our development environmentswe run postgres in containers on thelocal developers laptops but from QAforwardwe run everything in Cloud SQL so our QAenvironments we have probably17 18 QA environments plus a couple ofsdet environments and then we havemultiple production regions each of ourregions are broken out into separateGoogle projectsand each of those projects we haveuh what are called we've we've gotbasically postgresql instances for eachmicroservice we've got at last count uhI believe 48 microservices each backedby a postgresql instance running oncloud SQL various sizes depending on theuse caseand the applications themselves all runin kubernetes either Elixir Ruby or gois our application stack soyeah so our deployment is a bit uniqueand we have data residency requirementsso because we're in you know the bettingindustry we have to abide by our USfederal law called The Wire act itbasically means that you can't sendbetting data across state linesso what this kind of means for us islike the way we architected ourinfrastructure is a hub and spoke modelof microservices so our core serviceswill run in you know gcp in the cloudall in kubernetes and then we also haveall of our Edge services that facilitatethe Persistence of pet datauh running at the edge and those are allin postgres and kubernetes anthosthe postgres we all manage for on-premdirectlythis kind of model equates to about 450postgres instances across all of ourmicroservices between about six non-prodand obviously production environmentsawesomeso obviously when you run and post thisinstance in production data protectionis super important can you talk to us alittle bit about how you've implementeddata protection any lessons that you canshare with the audience here today basedon what you've learned doing that Stacymaybe I'll start with yousure so you know obviously because we'rerunning a cloud SQL we don't have toworry too much about data protectionGoogle does most of that for us but interms of like the the backup andRecovery scenarios we obviously run withautomated backups seven days ofretention we get the point in timerecovery that covers the deltaand then also for like Opera operationalprotectionuh we run with delete protection on ourinstances for you know anybody's flatFingersum we also use automatic storageincreases that you know protects us fromthat kind of embarrassing moments whenyour disc fills up and you have anoutagebut obviously that can that can causelike a runaway disc scenario but that'sobviously a reasonable trade-off to tohaveand then obviouslyum I think everybody probably agreesthatum running in multiple availabilityzones is is also important so we we dothat tooand Richardyeah I would say we use very similartechniques uh probably the only thingthat I think that I would also add thereis that we do dual region backupsso I think that's probably important topoint outin addition to thatwe absolutely are super super carefulabout making sure that we have deletionprotection on as well being a terraformshopthe last thing we want to do is forsomeone to do a rogue terraform destroyand our database goes poof so you knowas far as Lessons Learned there you knowwe'vecertainly don't want something like thatto happen yes sure I think um one otherlesson I will share is that uh you knowwe kind of talked about maintenance andGoogle is pretty rigorous on doing theirupdates and pushing them outum you know it's it's really importantto be like really paying attention towhen those get scheduled and puttingyour maintenance exclusions in so likethe Enterprise Plus is really promisingto see those 10 second maintenancewindowsthank youso Richard your comments on terraform Ithink we're a good segue to the nextquestionum which is about terraform and you knowwe uh you know as I was saying at thebeginning of the presentationum you know we developer friendliness isvery important uh for cloud SQL and uhinfrastructure score or score issomething that we Embrace we havesupport for terraform we have support toKCC so maybe you can tell us Richardmaybe you can kick us off here uh how doyou use terraform today what are somebest practices you can share sure uh wedo use terraform as I mentioned beforewe also um use a wrapper called TaraGrantas far as best practices I I couldprobably share that best with a story soum we're a pretty good hyper growthexampleum uh organization when I started withthe organization uh about four and ahalf five years ago we were a prettysmall SRE shop with about three sres anda single database engineer which wasmyself and now we're about nine sres andfour database engineersand we started with a single terraformGitHub repo and a single state file andumthat was a bad bad ideaand we have since learned that it's a agood idea to really think about yourdirectory structure up front reallythink about how many state files youneed to to have really think aboutum you know if you're going to do thingslike multiple regions and multipledeploys in different regionsyou know all of these things matter yourstate files matter the probably one ofthe bigger lessons we learned too was toseparate your modules from your actualumthe development of your modules fromyour actual the rest of your uh yourterraform resources themselves so thoseare probably some of the the bestpractices that that I could probablyshare in that regard soyeah I think the best one of the bestpractices that I have is make sure thatyou hook terraform up to some form of CIand constantly keep running the plan Ihave to make sure that it integrateswellit's pretty terrible when you have toopen code that hasn't been touched in acouple months and it is just driftedentirely and the plan just completelyfails on youum another kind of best practice I wasthinking about was you know when you'redeveloping terraform from kind of thestartto kind of really think about you knowwhat kind of abstractions you'rebuilding for your businessum you know where how do you group theresources that you want and how do theylike which ones frequently are changingummaybe I'll give a bit of an exampleum so we we try to build a module thatyou know we could use to just spawn theentire stockum you know we it's a template and it'sbacked by a few or like a handful ofsmaller modulesum and this you know worked really greatfor us once we got it running you knowit turned our whole stack deploymentfrom you know weeks and days down to youknow hoursbut once people came in and started youknow tinkering with it and trying tomake changes it kind of fell apartbecause the code complexity got reallyhighum so you know I guessto kind of pull back a little bitum you know figure out where yourgroupings are and and keep thingssmaller and then figure out which layeryou want to glue those back together atand otherwise you'll you'll run intocomplexity issuesyeah some great I think best practicesthere around you know hygiene and and Ithink planning ahead uh with terraformand I think both of you run sizable uhyou know fleets multiple instancesbetween you know different regions dataprotection so for cloud SQL so in termsof that how have you approachedobservability throughout your deploymentand maybe Richard sureumyou know we are aum data dog and New Relic shop forum a lot of our resources but inaddition to thatum you know especially around alertingbecause we've we alert on so much in ourstackum but once we've crossed like CPUthresholds and things like that we dostart to fall back and start looking atthe query insights tools inside of thecloud SQL product so once we've oncewe've actually like alerted on somethingthat is pretty interesting to us we dofall back on the query insights productwe use that to drill down and see what'spretty much on fire we can identifybroken queries pretty quicklyand drill down and get to the root causeof the problem pretty easily typicallyyou know a bad index or a query planthat has changed over time for whateverreason maybe some data you or somethinglike that we can see it pretty quicklyand get it addressed the other thingabout query insights that we really likeis we'll occasionally use the tool tojust rewind and go back in time and lookfor trends that just look out of theordinary so and then we can be kind ofproactive and if we if we see things oryou know as I like to call them bumps inthe night that that just don't lookright in a particular environment we candrill down and maybe get ahead of aproblem before it becomes a raging firein our environment so you know so we wedo certainly appreciate thatobservability in the cloud SQL productyeah so our organization also isConsolidated our observability andalerting into datadog so you know we usethe natural gcp integration that gets usour high level cloud SQL metricswe also have the logging which uses thepub sub which is kind of an unfortunatething to have to deal with[Music]umwell we also use database monitoringdirectly from datadog which gives us theinsights into postgres itself you knowthe explained plans and the queryperformancewe also actually still enable Cloudinsights on the gcp platform just as asecondary layer if we do have some issuewith the instance we can contact Googleand they'll give us a little bit of helpif we need itso yeah that's that's pretty ourobservability platform is fairlystandardyeah great to see you know use of queryinsights as well as you know ourintegration and partner tools that'ssuper awesomeso another question since we talked abit about PG Vector any chance that yousee opportunities or applications forusing PG Vector now that we have itstay seal start with you yeah I thinkkeeping with the theme of the conferencewith AI and mo uh I think the obviousanswer is yes[Music]with our with our products you know Ithink because we're in sports media itwould be really cool to just you knowtype into the app saying you know whichplayer has this stat and you know it'llgive you all the references backum you know I think not having to shiftour data to yet another data store isprobably really awesome too I don'tthink anybody likes having to shift dataaround out of postgres if we all agreethat we like those graphs so yeah Ithink it'll be really promising to seewhat's coming down the pipe for for thestuffyeah I think in ourregard our data scientist team wasbeating down my door the the day that uhPG Vectorsupport was announced they they wantedan instance and they wanted it nowso the opportunity is is definitelythere we've got product roadmaps thatalready have PG Vector in in the worksin the plans uh there's there's probablygoing to be something in our productionstackprobably in this quarterso we're certainly already embracingthethe opportunities that are in front ofus there sosuper coolso we talked a lot about maintenance andyou know I showed you the demo about thenear zero downtime maintenance andEnterprise plus you know Cloud SQL givesyou a number of controls Stacy wasreferring to one of them uh in terms ofyou know either denying maintenance ordelaying maintenance depending on yourbusiness requirements it's an importanttopic and you know both of you run avery large Fleet maybe Stacy you cankick us off by talking about how youthink about maintenance for yourpostgres instances and what are thedifferent controls that you use todayuh well maintenance windows withpostgres was not the most fun thing Idon't think if you had to survey theroom like how many people would actuallysay they're running all the latest andgreatest postgres I wonder if there'sanybody still running less than 10probablyumso yeah I don't think maintenance is agreat experience right now but theEnterprise policy I think it'll bereally goodumyeah but like you said and I saidearlier you know we just use themaintenance exclusions we reallyscheduled make sure we're reallyscheduling in those maintenance periodsbecause our app can't go offline and weand because we're really regulated youknow we have to give our release notesyou know a week in advance before we canactually push things outforeignso in in our case we'llum we basically just set upnotifications and uh in the case whereour scheduling doesn't align with ourtolerated maintenance windows andmaintenance schedules we will go in anduse the gcloud API to put in amaintenance exclusion and thenreschedule the the maintenancebut we will typically just allow them togo if they align with our prescribedmaintenance windowsso for all of our instances we do haveyou know we set a particular maintenancewindowand but occasionally there aresituations that for whatever reasonwe're we're sensitive to per to specifictimes of the month and times of the yearthat are bad even though we have aweeklymaintenance windowand so we'll adjust and whatnot so we wejust set notifications if the time'swrong we'll override those notificationswith a with a with a deny period andthen we'll just remove the deny periodafterafter the times passed and let it go inthe next windowand we've talked a lot about EnterprisePlus and I know Stacy you mentioned theyare very excited about the near zerodowntime maintenance feature anythingelse that that you find interesting inEnterprise Plus itself and same questionfor you RichardI think uh you know just the generalperformance increase will be really niceto have you know we see some bottlenecksalready with you know going above 16CPUs so I think it'll be really cool toget a little bit more throughput out ofthose instancesawesomeyeah I think a couple of things for usthedefinitely the addition and the themore memory the the the addition of themore the what is it eightor excuse me eight gig yeahthe one to eight versus the one to sixpoint five so I think that's a big dealfor usum and in addition to that uh thethe much much smaller maintenancewindows are going to be a huge win forusone minute's not a big deal but onesecond iscertainly a it's it's huge it it meansthat even in those less than desirableWindows maybe they're more desirable nowso umI think those are probably the twothings that I'm most excited aboutit looks like we're coming up on timehere thank you so much for taking thetime to attend this session todayum you know thank you for being part ofthe postgres communityum I I appreciate the fact that all ofyou are as excited as us are for aboutpostgres there's a number of other CloudSQL sessions uh in the next couple ofdays as well uh here's the list ofsessions do attend and give us yourfeedback on them Jana and I will staybehind to answer any questions that youmight have based on what you heard thankyou so muchthank you"
}