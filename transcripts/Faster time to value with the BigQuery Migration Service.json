{
    "title": "Faster time to value with the BigQuery Migration Service",
    "presentation_type": "Breakout",
    "categories": [
        "Data Analysts, Data Scientists, Data Engineers",
        "ANA201"
    ],
    "video_id": "xbJM5iqTsf0",
    "time": "Aug 30 10:00 AM - 10:45 AM CDT",
    "transcript": "foreign[Music]this is the fast time to value withbigquery migration Services sessionwhich means we're going to be talkingabout migrations to bigquery and what wehave been doing over the last one yearon the technology front on our GlobalConsulting frontas well as on our partner frontif you're a customer welcome welcome ifyou're a partner even more specialwelcomeall right let's get startedso I'm Mohit I am the product managerwho is responsible for migrations toGoogle's data analytics portfolio andwith me we have a very special speaker avery special guest today GB varghesefrom Seattle Children's Hospitalthis is a very special customer onmultiple fronts first they've recentlymigrated to bigquery so they can sharetheir experiencethe second is they're from a highlyregulated industry so you know if thereare nuances if there are challenges inmigration please throw all of that at GBand me during the Q a all right let'sget startedtoday uh We've laid it out in foursections and the first piece is forthose of you who are joining us after awhile we'll do a quick catch upof who we are and what we've been doingthe second part is going to besome really cool announcements of what'savailable starting now and what's goingto be available in about five to sixweeks from now so some enhancements andsome really cool announcements therethen I'll hand it over to GB he's goingto walk you through Seattle Children'sJourneyuh both on their technical stack as wellas from their migration perspectiveand then we'll uh have a questionanswered towards the endall right just to recap I'm sure you'vebeen hearing this over and over againbut just to recapbigquery is the core of Google's dataanalytics engineuh there are three thingsLimitless data so literally by virtue ofthe almost infinite scalabilitythere is Limitless data but there arealso Limitless possibilities of what youcan do with your datathere is Limitless reach soif you have your data infrastructure andbigquery your data can do a lot ofthings for you that's not the uh thetopic for today's talk but just want todo you know refresh that and finallyLimitless workloads so announcementsthat are happening today work that theteam has been doing over the past yearand before that enables your workloadsliterally to scale infinitelylet's jump into the bigquery migrationservicesand just for folks at the back my timerisn't working so I'm still showing theentire 45 minutesso if you go over stair fault not mineall rightbigquery migration service quick recapfour componentsas we literally historically have talkedabout itone is assessment so if you're acustomer or if you're a partner who'shelping a customer migratehow do you analyzethree things one what is the currentstate of your workload on your Sourcesystem so if you're on terror data ifyou're in a teaser or if you're anoracle how do you analyze what are thecomplexities what are theinterrelationships of your workload thesecond thing all this is withinassessment the second thing iswhat would your landed State on bigquerylook likeand the third thing is how do you getthereso assessment as an automated servicecovers all of thatthe next piece the power horse theWorkhorse of bigquery migration serviceis the automated SQL translationthis is the industry best andprobably one of the most performantautomated SQL translations availablefrom 14 plus sources to bigquerywe complement that with a data transferservice for a few sources and then thereis automated data validation now I'm notclaiming that these services areautomated 100 but a constant effort isto get these to as close to 100 aspossible and then help you the partneror you the customer be able to cover themanual steps in a more deterministicfashiontutorially if you just take the YellowBoxes represent roughly what a migrationlooks like different steps in amigrationwhat we do is we try to make Solutionsavailable parts of the service availablecorresponding to each of those either byourselves which is the blue boxesor with our partners and ourProfessional Serviceswhich is the gray boxeswhat we're trying to do is if you werehere with us last year this picture wasmuch sparse what we've been trying to dois add either our components or with thehelp of our partners you know solutionsfrom them so that when we go to youmeaning our sales team goes to you as acustomer or the partners team goes toyou for a migration plan a statement ofwork we try to cover as much of this aspossible with two thingsone all of this is free so we'reenabling the customer and the partnerto drive down the cost of migrationsinstead if you are a partner helping thecustomer you can focus on optimizing thecustomer stack once they're in bigqueryso that's a little bit of a paradigmshiftthe second thing is our aim is to makeeach of these steps less about onionpeeling and more deterministic so it'sthe determinism in each of these stepsthat we've been working to addconsistently so be it increasing thedepth in our assessment automatedassessment which can now be run withinlike a couple of daysto uh less than a week for you to beable to see a full automated reportor be it SQL translation we've beencontinuously improving the capabilitiesof automationso just a quick recapwhere are we todaythe items in red are recent enhancementsbut again the four uh bullets herecorresponding correspond to the fourcomponents that we saw so in assessmentweare recently added teradata in generalavailability with total cost ofownership and redshift so these are bothpretty performant nowwe also have brought batch andinteractive translations and what arethose batch is when you point yourworkload and the entire workload getsautomatically translated interactive isGoogle translate like left to right youcan go query by query so what we've doneis we've brought batch and interactivetranslations at parity your interactivetranslation now has the same context asyour batch so if you fed in metadata ifyou fed in rules now if you useinteractive translation it's going tohave the same output with the sameSource contextand we've added recently addedsources including btec for teradata hqlIBM netiza these were recently turnedinto generally available they were inpreview before and then we've addedPresto and vertica in previewuh data migration gravity we are workingwith partners and more on this comingsoon but we have first party tooling forteradata and redshift and through ourpartners we have partner tooling forsome of the other sourcesdata validation one of the good thingsthat's been recently added in additionto the sourcesis the ability to dry it on which meansthat now if you use the data validationpiece you can ask it to just print outsource and destination SQL querieswithout actually doing the validationpretty powerful construct think about itfor a minutesome numbers just to show the scalewe've been supportingthese include customers fromacross the verticals so if you're aHealthcare Customer you're representedhere if you're a retail customer you'realso represented herethe two parts to this one is theassessment where we're showing how ourautomated assessment is able to coverlarge scale inquiries as well as largevolume of data and these are realcustomer numberson the code translation piece look atthe automation ratesyou'll hear numbers being thrown on theindustry these are actual outcomes ofcustomer migrationslet's get to the really exciting sectionwhat you are waiting for so withoutfurther ado we're making the followingannouncements todaywe are increasingour translationto be enhanced with large languagemodels so we are announcing largelanguage models enhanced translationstoday I have a short demouh we're also announcing enhanced UI forwhen you run translation when you runassessment whatever are the next stepactions for you they are getting moreprescriptiveso that's one bucket the second is onthe assessment piece itself we areannouncing availability of assessmentfor two more sourcesSnowflake and hiveand we're also announcingin the assessment the ability fora customer or for a partner to run theassessment and determine what wouldtheir cost of ownership in bigquery overa three year five year two year one yearHorizon look likeso that's pretty powerful just lookingat your workload no human involvement nofill in questionnaires and we give you aballparkon the translation core piece we arecontinuously adding capabilitiesso we're announcingavailability for teradata Advantage SQLto bigquery conversion and TPT tobigquerywe are announcing support for Hive ql bline CLI within our generally availableHive translation capabilityand we are announcing support for IBMdb2 to bigqueryso let's talk a little bit about llmenhanced translations I think this isbeing a really uh interesting area sowhat we are doing is we're doing anexperimental launch not today but fourto five weeks from now and a demo willrepresent what that launch will includeso what we are doing is think of it likethis today when you submit a translationjobour compiler Our Best in Class compilerdoes the translation now you'll have theability to annotate if you want an llmto enhance your translationif you do that and llm would be able todo a few thingsit would be able to suggestdifferent possibilities of outputs incase there is an ambiguity inTranslation and you as the user get todecide what is the right context for atranslationso if you're converting for example fromteradata to bigquery you will havewherever there are ambiguities you willhave options to choose from that'snumber onenumber two if you have a customizedenvironmentwhich most of the complex environmentsdo and this is a very complex spacethen you will have the ability to Definepatterns or semantics which then theelement will automatically apply tosimilar patterns in your code throughoutnot just thatwhen it actuallygets out the translation output it willgive you an optionkeep it or do away with it meaning youwill clearly see llm annotated text l mtranslated text annotated by hey this isl m enhanced do you want to keep it ornotand the reason for doing that is we knowllms hallucinate we know llms give anoutput where you know it may not becorrect or at least not be correct inyour business context so we want you tobe able to make that determinationbut then we go a step furtherwhat we do is when we do present the llmenhanced output in the background wewill check that for you so to overcomethe hallucination problem we would haveverified that what the llm outputindeed is runable in bigquery that's aminimum that's a starting positionand finally when all of this is done youhave the option to either apply all ofthe llm suggestions or select pick andselect from themand we do not use llm output or datafor our model training purposes that'syour data these run in your projectsthis data is stored in your bucketswe don't have access to that so that'svery important to knowso let's jump into the demoand see what we're talking aboutwelcome to the arm enhanced SQLtranslation demo the first the demo isAI suggestion well the translation showsa narrowin the bigquery SQL editor click theenable SQL translation button to enterthe SQL translation UIit translates a dozen of SQL dialectsinto Google SQLhere's a creatable ddl with defaultcolumn constraints click the translatebutton and enable AI enhanced SQLtranslationand then we get the output on the rightis the original translation engineoutput with arrowsthe arrow is about the default columnconstraints are not yet supportedin the AI suggestion we provide the lrmgenerated result after fixing this Arrowwe had this validation button to performsyntax validation and another actionbutton to apply AI suggestion click thebuttonand then the original translation outputis replaced by this AI suggestion andthe default colon constraints are addedinto the translated querythe second demo is customize the SQLtranslation with human input and outputan input query it joins two tables onthe ZIP code column one simple column iswater and the other one is integercolumnthe results returned by compiler iscorrect but it introduces extra logic tocover the corner cases when string countbasically cast as integerbut for this case the user knows theDeep code colon should be integer sothey want to simplify the outputto achieve this the user could providegeneric input and output guidanceand let's translate this SQL againthe RM simplifies the result by castingstring into integer following theexample provided by the userthat's all for the demo thanks forwatchingquick tableso that's an element enhancedtranslationsnow let's just roll back what we talkedin the last five ten minutes 15 minuteswith today's announcements from theproduct sidethis is what bigquery migration Serviceslooks like the greens highlight theannouncements we've made today that wejust coveredand one thing to call out is that wehave seen tremendous scale in the use ofthe serviceas you saw on a previous slidewe have customers translating millionsof SQL lines millions of lines of SQLcode and we have customersmigratingpetabytesof data and the service automationenables that so if you have questionsspecifics on what we can do and what youknow would be best done with a partneror you know even for your business caseslike for your organization's cases whatare some of the peculiarities what aresome of the business risks you'reconcerned about please reach out to usalways always happy to talk to yousomeforward-looking announcements what'supcomingso what we will do between now and thenext few months iswe're adding deep assessments foradditional sources so we have them forfour now in today's announcementteradata redshift snowflake And Hivewe're going to add more sources andwe're going to deepen the coverage forthese assessmentswhat we are also doing is we arelaunching an API for individual stringsso what you can do is you can call thatAPI and pass it a string that string canbe a query multiple queries it'll justdo a query by query translation law forpartners have asked for this capabilitysimply because they want to integratethis translation into their tooling sothis is what we're doing for thatwe will keep improving our uxwe have made substantial improvementsbut we are not done there's more comingwe are adding more sources more formatsfor translation customization sospecifying rules we have a pretty richway for you to be able to specify macrosubstitution and a whole bunch of thingsbut we'll keep adding we'll keep makingimprovements to thatone thing ishas this translation proceedsat every step we'll be trying tooptimize your statefor when you land on bigquery whichmeans that performance optimizationbased on your Source context based onwhat you specified will happen in thebackground so that when you do land onbigquerywe are ready to hand you over to thebigquery optimization engine which meansthat we would have optimized you to theextent possible based on your Sourcecontext and make you as ready aspossible to run your queries effectivelyon bigquery query performance so that'sthat's a big Focuswe'd also be building out a first classlineage productwhich is column 11 lineage Sourcelineage so for teradata for Oracle forany Source systems and it will analyzethe impact of dependencies and enhanceour abilityto automatically recommend themrecommend a migration plan show all thedifferent dependencies and help you beable to structure and segment themigration more deterministicallyand finally we'll be adding more sourcesand more capabilities for improving datagravity for improving data migrationof announcements pertain to Google CloudConsulting and they have a booth rightaround please go and talk to them if youhave more questions about thiswe heard our customers and our partnersthat are Google Cloud Consultingprograms were a little bit rigid so whatwe've done is we've made them verymodularnow you'll have the ability to engageGoogle Cloud Consulting as just as atrusted help source so if you have likeone-off questions you can do that if youwant to engage them deeper for a part ofyour migration starting all the way fromproof of concept you can just engagethem for that specificallyif you are wanting to engage our CloudConsulting for bigger pieces ofmigration you can do that and now asalways they're happy to work with you todo the whole end-to-end migration if youchoose to do soso what this is doing is two things oneis making the cloud Consulting modelmore modularand cheaper if you are looking for helpfor certain areas the second piece it'sdoing is it's making it easier for ourpartners and our Cloud consultant towork together more flexibility so theseare a few announcements please make sureyou talk to our Cloud Consulting folksdown the halland then the third part of announcementsand this is where it's really excitingfor a partner ecosystemis we are announcing rapid proof ofvalue with partnersbut now a partner can do is work with usGoogle and if for example you're workingwith a customerand you want our help both in terms ofTechnology as well as in terms ofcovering some of the costswe can help you with that so if you'repart of our trusted partner our corepartner programwe'll work with you for assessmentswe'll also have a very modular offeringwhich is a rapid POV two to four weeksand as it says it'll do a T-shirt sizeproof of value it'll take one to threeuse cases and prove the value so look atthe Timeline it's two to four weeks sowe are accelerating times and we'relowering costs and lowering friction andthird piece is uh there's modernizationFactory so if you're a partner andyou're working with a customer or ifyou're a customer and you also want toapproach us we'll help you pair up witha partnerand what we'll do there in themodernization factory is we do thecomprehensivefirst-hand view of whatyour migration uh proposal what yourmigration architectureswhat nuances will need to be covered aspart of the migration so againwhat this is doing is rather thanPartners going for one-offs and partnersyou know going and talking to customersabout the entire migration we havebite-sized itso now you can choose a small componentor you can choose a larger componentsome select partners that we alreadywork with and hopefully you'll see a lotof these names probably all of them downin the hallway there are other partnerswho are not listed on the slide and ifyou're a partner who are interested inworking with us again either to benefitfrom our technology or you want to workwith joint business programs with usplease reach out to ushere is where you can learn more andwith thatlet me welcome JB for his story aboutSeattle Children's migrationforeignI am a director of data engineeringanalytics whatever you can call titlesnot that important nowadaysumI am here to just give you a quickoverview of who we are what is our whatwas our journey what we did and whatwere our milestones and did we achieveour Milestones it won't be too technicalyou will see some technical slides youcan reach out to us and let I need theclicker okay you can reach out to us atany point in time and we can give youmore in-depth uh overview of what we didand wrong directionso ah so I'm from Seattle Children's Iam representing Hospitalanalytics team which is run by SusanSpencerthis is a quick overview of whathospital children does today we providehope care and cure to help every childlive healthiest and most fulfilledfulfilling life possible we have about46 locations we areabout 9 000 plus employees we have 900uh 1900 medical staff our gross revenueas of 2022 was 3.3 billionum our annual patient visit is about400k uh outpatient is uh 250k andimpatient is about15K and emergency room is 854k andoutpatient surgery is 11k and we have407 licensed bedsfor Hospital analytics team this is ourmission and vision we our mission is topower data Innovation that drivesEquitable action to improve the lives ofchildren and their familiesthat's our vision over three over nextthree years we want to expand andLeverage The analytics AI platform topower scientific discoveries real-timeassessment awareness and predictions andseamless operational Integra integrationwhat it really does is we need to moveforward from where we were we were inour rdbms system at this point in timewe want to empowerum our analytical Journey furtheruh for our patient families employeesand broader communityso that's that's our journey before sowhat are we are seeing on your far rightfar leftum we before 2015 when we started ourjourney we had our own data warehousewhich which was very limited and whichhad very small Footprints there were alot of mini data warehouses across theorganizationum and our uptime was about 65 percentum and and if we did hem stageamm assessment we would be in stage oneor two right and then we were industryfollowers not leadersstarting 20 2016 we Acquired natiza andbetween 2016 and 2017 we acquiredCloudera as well and we had now twosystems in which we put we we combinedall our data warehouseum data we we have about 71 differentdata sources that we bring data we evenbring real-time data from bed sites aswell in in Cloud era so the we had fewpros and then we have few cons as wellPros were that now we had a unifiedsystem with Hospital research andFoundation we had a single trust singlesource of trusted dataum and then now we have we started doingcell service advanced analyticsautomation all that was undergoing andthen we did a hymn 7 certification andwe got the higher certification at Stateseven in 2019 end of 2019 but there weresome more things that we were not ableto doum just to remind we are a hospitalindustry and we we really need to focuson giving care and to the patient andempowering analytics and and scientificdiscoveries right so we wanted to getout of this day-to-day management of oursystems taking care of our hard drivesum we needed to even we did not haveproper integration with our data sciencetools and our RTO and RPO was super lowwith our netizer system IBM nutritionsystemumafter that uh we are hoping we justfinished our migration in August we arehoping that future will beeverything that we had before willremain a single source of Truth nowinstead of having two different systemsum Cloudera and netiza we are going todeprecate both we have deprecated netizawe have stopped Refresh on that we willbe deprecating Cloudera as well at somepoint in time next year and we willbring all that data in bigquery and wehave one place to to run our reports tohave uhto help our data scientists andbut this is where and plus will haveadded benefits of AI and ml capabilitiesas wellthis these are our Milestones uh early2001 we uh IBM came to us and let usknow that netiza will no longer beavailable uh starting 2023 April andthere is no monetizer systemum after that uh obviously they didbring in new netizer systems later onbut we've been unaware of it at thatpoint in time uh April 2021 we decidedthat we'll start working on uhum finding a newer systemum the next-gen system by August uh falland August we we had a 20 people teamthat that represented all roles andorganizations across Seattle Children'sHospitalthese 20 people team decided this groupwas formed to decide which next systemwe are going to migrate to uh September2021 we did a lot of vendor demos we hadDavid Jones as our TPMin March we narrowed down to threefinalists and we did a lot of Deep divesessions and we created a scorecard uhand then we find uh finally decided togo with Google right May 2022 onwards wedid pricing negotiationum vendor engagementum and then August 2022 we had a finalrecommendation by November 2022 we hadfunding approved and December we startedour training sessionsmind you we are none of our employeeswereum Savvy with any Cloud infrastructureas such this is our first journey and westarted just training in December 2022Google was with us training usconstantlyum and we had a lot of one-off seminarswe had the Google Cloud hero session sothat people can at least join us getcertifiedand then in January 2023 we started ourETL migrationum by mid-may we finished our ATLmigration I will show you the scale atwhich what we did how much we migratedin the next slide but it wasn't easy itwas super hard but but we had support wehad support tremendous support fromGoogle and partnersum mid-may we finished ETL migration andby all April uh and August we finishedour data validation report migration andeverythingwe just shut down it is a refreshactually on 18th of this monthso we are that Fresh So if you see mesweating here and that's whyuh what did we migrate we migrated over650 databases from netiza 57 000database objects in those four and ahalf months 1.7 million lines of code 30000 scripts three homegrown automatedtools were migrated because all ourautomated tools were catered towardsdata stage in the teaser13 self-service models on 1000 plusreports many reports we decided we won'teven migrate so that is a plus of doinga complete migration to a new system andthen we might we even decommissioned 580plus reports as wellwe have 200 plus file extracts that goesto internal and external Partners wemigrated those and we also migrated toSQL Server cubesyou can see on your rightum what was our architecture before itis super super high level there's somanycomponents I have not mentioned here butone thing to note there is we have 71different data sources epic and Cernerthese big systems are like one or two ofthem so we have more much moredata sources even our operational datalike jira service now everything goesinto our data warehouseso these are all these were our mainobjectives rightum and did and I will go through one byone and let you know did we achieve themor not uh we build we wanted to build adata warehouse that was sustainable thatwe can grow we did not want to domigration every five yearsnegotiating every five years and thennot only you have to negotiate withwith your vendor Partners but we have toalso negotiate with our data center teamacquire a space and all so we did notwant to do that going forwardum and we also needed capabilities wherewe can do our AIML NLP and imageanalyticsum we want we so we achieved that we dida Brownfield migration so minimal changeattained parity whatever possible justdon'tum don't change any business logic andand not increase our cost as well so sothat's that we achieved have a partnerand we we wanted to have a partner tomigrate our current ETL workflow we hada partner with Google andthis is where Google helped us the mostthey held our partners accountable tofinish the migration and finish theFinish every component of the migrationso thanks to Google teamumand have we we wanted tools um Googlehad tools likeumbigquery migration service I mean teamslike bigquery migrant services andProfessional Services these teams wereavailable whenever we wanted them theywere available designed the architecturewith us help us to help us to teach whateach one of these component means whento use it where to use it how to use itso I'm super super thankful to Googleand PSO team as wellumand then we as I said we had to trainour employees we have 90 plus people inin our team alone and we had to trainall our analysts we have to train allour Engineers we had to train our datascientists how to use bigqueryum and how to even use bigquery consoleand navigate itum and then we hadum as I said we finished our uh we wewere supposed to finish our Migration byend of April we couldn't we had toextend it a bit by 15-20 Days by then weour nitisha support was over but we wereable to migrate successfully we wantedto increase our SLA from 99 of time to99.99 again to keep that 99 uptime on itis it was super hard because every timewe have to do any upgrades orenhancements we had to flip to our Drsystem and all that flipping back andforth was manualumhave we we wanted to have a better RPOand RTO uh with with our netizer systemwe can only go back about 24 hours herewe can be real time and because Googlehas a capability that you can turn backseven days that was super super helpfulfor us to keep our slasum bring better visibility to ouroperational expenseso with when you when you go and buy asystem like uh data center system youhave to spend your capex and you'respending like five million six milliondollars uh the scale at me which we arebuying rightat this time frame we did not have tospend all that at onceumif I may right now as we are goingprogressing I think we would be spendingless than what we would have spent withwith our data centerum acquisition so at least let me giveyou that muchum feedback from cost perspectiveumwe wanted to increase our ability toinnovate in future we wanted to makesure that all our tools are workingright Google bigquery does connect toTableau power bi are jupyter notebookand and obviously it also supportsnative python as wellum we wanted to build a self-healingrollback ETL process so we we do have wehave seen our ETL processes fail atnight we have to get up at night todayeven right after our migrationwe have already built self-healing ETLprocesses whenever our data proc systemsthey have any issueswe can destroy them rebuild themautomatically we don't really have toget up our systems have been we havestarted automating that process alreadyum and as I said we just finished ourmigration on 18th so think about it howquickly we are trying we are able toautomate these processesum and then we wanted to use theresources when and when it is requiredso all of our data procs servers rightnow we are using so data box servers wewanted to migrate to serverless at somepoint in time but just to keep parity weare using data box servers but we onlyspin them up when our etls are runningas soon as our retails are done wedestroy them and we don't incur any morecost at all give just to give you uh adata point from SLA perspective we weremeeting our slas by 8 am in the morningbecause of what we have done so far thatem ATM SLA we are meeting now by 4 30 inthe morningas well so tremendous tremendousperformance uh benefit as welland and then obviously um one of ourmain criteria was that our our nextsystem should be completely HIPAAcertified which is Google is completelyHIPAA certified as well with all thecomponents that we have used hereand this is our new very high levelarchitecture that we moved to thank youfor your time[Music]foreign"
}