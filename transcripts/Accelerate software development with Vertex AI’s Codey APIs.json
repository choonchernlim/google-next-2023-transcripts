{
    "title": "Accelerate software development with Vertex AI\u2019s Codey APIs",
    "presentation_type": "Breakout",
    "categories": [
        "AI and ML",
        "AIML208"
    ],
    "video_id": "S9htZhCe7G0",
    "time": "Aug 31 11:00 AM - 11:45 AM CDT",
    "transcript": "foreign[Music]good morning everyonemy name is parashar I'm the productmanager for Kodi and we have Mike fromgitlab with me as well today we will betalking about vertex ai's Kodi apis wehave a full pack agenda today so hopingto also interact with you at the end ofthe sessionI'll be covering these topics and themost important one with the demohopefully it excites you and encouragesyou to try the apis immediatelyso what are Kodi apis the Kodi apis areessentially apis which we launched inApril in experimental and now they arein GA and we also did a ga refresh twodays ago these apis are designed to helpdevelopersand also analysts who work likedevelopers in many cases writing somecodewith their day-to-day tasks so it couldbe creation of website it could bewriting some SQL queries it could bedata science it could be python C plusplus you name it and we have it thereare three apis one is code completionwhich is low latency and designed tohelp with the IDE code assistance sowhen you're writing code in an IDE youyou can use that the second one is codegeneration which is used for generatingfull block of code based on yourcomments or natural language prompts andthe third is code chat API which is amulti-turn version of the codegeneration API so it's essentiallyhelpful in creating a bot and retainsthe context now we also support manyprogramming languages python JavaJavaScript and in fact I'm excited tosay that we have more than 30 pluslanguages which are supported now andand then all these apis essentially areintegrating uh into ID of your choice sobeat your own IDE or it could be an IDlike gitlab as well so uh we'll talkabout that during the session and weallow even customization so you canactually tune the model with your owndata so very excited to share more as wego through the next so let me yeah thisis the first API which is like I saidcode completion API so you can see herein the slide that the API is actuallyrunning in in a collab notebook it canbe in any other ID and it retains thecontext so basically whatever code isbefore and after it looks at that andthen helps with same line and next linecode completion we have refresh themodel as well so now the new model is uhable to even do more uh do better codeprediction so all the supportedlanguages work even betterthe second API is code generation APIand here uh the idea is like you cangive a code prompt like help me write apython code to do function X and thenyou'll get an entire block of code sothe difference between code completionand generation is essentially completionis same line and next line low latencywhereas generation is normally three tofour seconds when it's in non-streamingmode and in streaming mode it's veryinstant but the idea is to generate fullblock of code and and not just the sameline and next line so so that's thedifference between the two and we haverefreshed the models so now they supportstreaming model tuning many morelanguages more use cases and thesemodels are now available to you welaunched it two days ago you might haveseen even in the keynote so and they arein GA so please write out and and thethird API is code chat API which is likeI said a superset of the code generationAPI and the idea here is to help youcreate Bots and and when I say Bots isessentially it's not only just helpingwrite code but also other things whichare associated with code so likedocumentation generation unit test casegeneration and even helping you fix codeor translate code so all these use casesare supported by this so when youintegrate it into a chat bot of yourliking then you can actually sendcontext and and get responses which arerelevant to the conversationuh all these apis also have sourcecitation right uh the data sets that weuse are permissive data sets so wheneverthere are public references uh to thisthen we actually cite uh this so wedon't block generation of code the codeis still generated but we cite thesource and the license associated withit so you can actually uh depending onyour Enterprise's policy you can do postprocessing and figure out if thislicense is permitted to use or not andthen then either block the code or showthe code but but that's the citationpart and the next responsible AI featurethat we have is what we call as toxicityChecker in this case we actually blockthe generation of code so unlike sourcecitation where we generate the code andcite the references when when it comesto toxicity Checker we actually blockthe code so in in this example I'm notsure if the folks at the back can seebut I'm trying to generate code togenerate curse words and and theresponse is like no I'm I'm not allowedto do that so these are models which arerunning in parallel so there isessentially the model which is doingcode completion generation code chat andthen there is a source citation modeland then there is also the toxicityChecker okay uh and then all thesemodels are accessible from model Gardenas well so just uh search for Kodi andyou will see all three models with allthe details on how to use it includingall the documentation links andeverything so it's it's there as part ofour foundation models in in model guidenow what about use cases right so youmight ask like which API is useful for aparticular use case so we expanded thenumber of use cases that we support withour model refresh so depending on theuse case you you have to pick and choosethe end point so code completion like Isaid is code Gecko and essentially it'slow latency same line next line codecompletion but we have the Bison familyof models which are larger models andthen it's basically for code generationyou would use code bison and then for uhcode chat where it's multi-turn youwould use code chat bison and uh boththese apis are capable of not onlyhandling code generation but also othercases which are part of the softwaredevelopment life cycle right so you cando the documentation you can alsogenerate unit test cases you cantranslate code havehave the API even explain the code toyou right and you'll see some of thesethings in the demo as welluh the languages like I said we expandedthe number of languages that we supportwith our latest model refresh uh if youhad asked me this question like lastweek I would let's say we support around14 to 15 languages but not anymore wesupport more than 30 languages now andmany of these languages are very new infact I I can't understand many of theselanguages but yeah the model can so feelfree to try it out and in in some casesyou can actually even do translation soyou can translate from one language toanother as well okayand are all when I say the improvementsuh we we see 10 to 25 percentimprovements across these languages andwill continue to so that's as comparedto the V1 so V1 which was there untillast week as compared to V1 the latestmodels so the the way you would accessit is code bison at latest or just writecode bison to call the API uh and andthat's how it's you would access themodel and the improvements versus ourprevious generation model is anywherefrom 10 to 25 percentuh I'm also excited to launch adaptertuning support for code models and Iassume you would have seen some of thesessions talk about adapted tuning theidea here is to allow you to customizethe model with your own code base rightso uh you can start with as little as100 label documents this is supervisedfine tuning so you do have to providelabel documents and it's in the form ofinput output pairs right so essentiallyThe Prompt is help me write a pythonfunction to do X and then the responsealso is your providing your trainingdata set but you can get started with aslittle as 100 and the training time isnormally at least the ones which I triedit's it's anywhere from three to fourhours but it depends on how big the dataset is so it's very fast as compared toweeks which which you would take if youwere to do full fine tuning right so notonly is it faster it's quicker to getstarted but it's all also cheaper tohost so when you use adapter tuning youare just paying for the training youdon't have to pay anything additionalfor the inference the inferenceinference price is the same as you wouldpay if you were to do prediction on thebase API we don't charge extra if youuse a custom endpoint for for by usingadapter tuning okay uh and and then themost important thing which resonateswith a lot of customers I talk to is theability to own your own data so whateverdata set is used to customize the modelit doesn't come to Google like we do notuse it to improve our base model itstays in your gcp project so you havecontrol over it and whenever you arecalling the endpoint which is customizedagain it's used only during that requestresponse so otherwise like we at Googledon't see what data set you have usedfor training and things like that so itresonates a lot with Enterprises whoactually cannot share that data forimproving the basements on the otherside if you have data sets which youwant to contribute to us then we workdirectly with the customers there areagreements in place and then it goesinto the base model but not if you useadapter tuning okay uh and and then likeI said there are many use cases whichare possible so some of the customers Iwork with are using adapter tuning touse their own libraries and in somecases they are also using it to improveuh the the performance of the base modelright because I'm seeing anywhere froman optic an uptick from five to tenpercent when you just provide 100samples uh with adaptive tuning and thisis all in the UI so you don't have to goto a python notebook to actually trainthe model but you can use the UI uploadyour data set just do the clicks likewhat I'm saying and then you will seethe entire vertex AI pipeline which isuh which is actually doing the model andand then from there the test isavailableI have to use the mouse at the stageyeah and and then the final but last butnot the least the most exciting featurethat we also launched is a text to SQLuh now this is this is a capability ontop of our code generation or code bisonendpoint and here this this featureenables you to actually generate SQLfrom natural language prompts so if youare if you the way it works is youprovide the data set and the serviceaccount ID so we query the schema andthen we execute the generated promptagainst that data set and and and thengive you a response so you might haveheard that large language models cangenerate code but sometimes the codemight create something which is actuallynot in the data set so we are trying tosolve that problem here with text to SQLso so it leverages the existing codegeneration code bison endpoint and thenon top of it like when you put a querythat helped me find out all thecustomers which have made more than 100000 requests in last one week so thenthat's the natural language prompt youwould provide alongside that you willprovide all your tables as part of thedata set and the service service accountnumber then we will take that naturallanguage prompt generate SQL multiplesqls actually so there is a configurableparameter also available to you in termsof how many samples that you want us totry so it could be three or five andonce we generate it before even showingit to you we actually execute it againstthe database and and then based on theconfidence score of the execution wegive the SQL back to you right now wesupport bigquery and more databases arecoming in the futurewith that let me switch to the demookay soum I'm going to show you two two demoswhich are kind of real life stories forme so my wife is a doctor and she she'snot good with coding uh so every eveningthere is this conversation at our homelike what to cook for dinner so I waslike why don't you try Kodi apis so whatshe did is basically created a piece ofpaper just drew like a website with someform and some radio buttons and thingslike that and then we just converted itto like a prompt which is there sothat's what I'm going to show you todayand uh The Prompt is essentially uh letme just copy a secondokay the The Prompt is basically tocreate a website which uh based on theingredients which I provide and and thetime of the day then it then it itsuggests what recipes to cook right soso that's the idea behind it so I'm justgoing to give this prompt and pink isour favorite color so we also have apink background hopefully it all goesthroughso uh that that's the that's theexciting and the nervous part when youuse large language models becausesometimes it cannot be deterministic andwe are trying uh many new techniqueslike grounding as well to make it moredeterministic so this is with a singleprompt now we generated the entirewebsite code including the CSS and HTMLnot only that it also cited the sourcesso now you can see when you're usingthis code you have Clarity in terms ofwhat are the references for this coderight so I'm going to copy paste and itdoes even have functions for PHP andthings like that so it it assumes thatthose things are there in the back endbut in uh if it's not then you canactually plug it in but it gives you askeleton of how to get started so I dohaveuh the code so I'm going to just copy itand there is a PHP and everything inthereso I'm just going to use the HTML pieceof itand it's not going to work because ofthe PHP part so I know that so I'm goingto remove the PHP portion because that'snot plugged inand yeah here is the website right soyou can see I did a live demo a wristletas always but the model didn't fail meand that's what I love about the modelsthat it works so it's the background andeverything and not only that like Ididn't specify that I wanted breakfastdinner so it did pick up that there islunch breakfast so now you just work onit further and now you use the code chatAPI essentially to interact further thatokay make the buttons rounded or help mewrite the code to connect to a databaseand it will do all that right so sothat's the first one now the second onewhich I wanted to show isum like I used to be a data scientistearlier and uh I'm pretty sure that thiswould resonate with many of you that youjoin a team and then there's some codebase which is there which probablydoesn't have explanation or comments andthen you are asked to work on that codenot only that you're asked to optimizeit right so in in the second demo we aregoing to run through that softwaredevelopment life cycle essentially sothere is a piece of code I don't knowmuch about it so I'm going to ask theKodi apis to help me understand thatcode so my prompt is the code and then Iprefix it like I'm new to this code sohelp me understand what it does right soI'm going to send it to the APIand while it does that anyone wants toguess what this code is doingit's it's sorting basically so the APIfigured out okay there was nothing inthe code which says it's sorting interms of like insertion sort orsomething like that but it figured outthat okay this is insertion sort notonly that if you see here that uh it itactually explains uh everything that itdoes now how about we actually evenoptimize it so let me actually Zoom itin case you can't see it at the back soI did that and and so my next questionis basically how to make it faster rightbecause for people who have usedinsertion sort you would know thatprobably this code is not very optimalso now I use the word it but it knowsthat okay it's in the context of thecode I provided previously so let's seewhat it comes back withyeah so now you can see that it cameback with suggestions so things likeusing uh let me let me just quickly uhhelp you this so there is binary searchpart which is there and then it alsosuggests multi-threaded implementationso not only is it optimizing the codebut it's also suggesting like in termsof the execution pipeline when you dothat what else could be done right so soI showed you code explanation of a codewhich didn't have comments and then Ishowed you how to optimize that code andand even uh probably so you can keepgoing like you can actually ask this tonot only add unit test cases add morecomments even change variable names sowhen you plug it into your CI CDworkflows or things like that thenessentially whenever a developer submitssome code you can call the API to addcomments unit test cases documentationto it and and uh have a prop workflowwhere where you know that whatever codeis being submitted is going to executeand it's it's ready for your stagingright now let's run this code so I havealready copied it here so the the firstpart of the code is basically what whatI provided right without the comments soI'm going to run ituh and then the time it took is uh0.008 so uh seconds and then I'm goingto run the second code where it is whereit has optimized it by adding binarysearch to it uh and thenlet's see how much it takesso it's0.0001 so it's eight times faster in myown test I have actually seen that itcan be even 15 times faster but this isjust one example that we like I'm not anexpert with insertion sorting but justby using the apis I'm able to not onlyunderstand the code what it is doing butalso optimize it and and I have triedeven uh conversations like where it cansimulate two developers discussingdesign so you can say okay what are thepros and cons of each and then it willactually do some kind of a role play aswell so so you can do a lot of stuffwith the apis by using the right promptsokay and then there is alsovulnerability scanning which can be useduh so the apis are very powerful and theunderlying models with the new refreshnow I'm very confident that it's it'sable it's it's like in the world classcategory now with this can we go back tothe slides pleaseokay where is the clickernow let me introduce Mike and this isone of the most exciting part of thesession so we are going to have a q a onthe query apis the state of the worldand especially with this in the softwaredevelopment life cycle and also howgitlab use it you want to introduceyourself and get started absolutely hieverybody I'm Mike floating I'm VP ofproducts at gitlab uh super excited tobe here today to talk about what we'redoingcool thank you uh so my first questionis uh what is the biggest opportunity uhfor generative AI uh in terms of theimpact it can have on gitlab's customersyeah so maybe a little background ongitlab to set some context uh so we areour vision is to be an all ops platformso where everybody can contribute and sokind of our current stage of evolutionis we're a devsecops platform uh so asingle kind of application for all thoseconstituents to collaborate shareinformation and ultimately buildsoftware and deliver experiences so youkind of think about what that means youhave a lot of different constituencieson the same platform so you have productmanagers you have Engineers obviouslyyou have sres you have platformEngineers you have security folkscompliance folks legal folks allcollaborating and communicating togetherso kind of having a single data modelhaving a single workflow engine accesspermissions it's a big win in and ofitself but we think there's a muchbigger opportunity there to facilitatebetter communication because if youthink about those constituencies they'reall coming from different backgrounds soeverybody kind of has their ownstrengths their own way of viewing theworld their own way of communicating andso sometimes it takes some some work tokind of frame things in terms thatsomebody else can understand so asproduct managers like my team loves usevery day we kind of talk with Engineerswe'll never be as deep technically asour best Engineers but we need to beable to get deep enough into the weedsto have an intelligent conversationabout trade-offs of implementationdecision for exampleso we see uh AI as transformative andthat pun is intended thank you Googlefor inventing Transformers but we reallysee it as transformative andfacilitating a lot of that communicationbecause it can reframe things in termsthat somebody can understand so I can'teven tell you how many times I'm askedto weigh in on an issue and I open it upin gitlab it's three years old there's ahundred comments on it and I say youknow what I really need to clear mycalendar today in order to get up tospeed on this particular issue soimagine a world where I can just click abutton say summarize this issue explainit to me in context that I canunderstand and that's a hugeproductivity when and it gets me to thatconversation with the engineeringmanager much faster and you kind of youknow all those constituents I enumeratedif you do the math on how many differentpairings and kind of translationCommunications it's just a huge win forproductivityand so I think when we look at AI uh wereally kind of have three guidingprinciples number one it needs tofacilitate and enhance every step of thesdlc so it can't just be aboutgenerating more code because if yougenerate 10 times more code but youdon't introduce efficiencies laterDownstream you're going to break yourCID CD you're going to have you know toomany Mrs to review and it's just reallynot going to be overall net productivitybenefits so AI throughout the sdlcprivacy and security is super importantto our customers we've just heard thatloud and clear since the beginning andthat's why we're so excited to beworking with Google they view privacyand Security in the same way we do andand finally best in class so I talkedabout having uh you know having AIenhance multiple parts of the sdlc whenyou talk about all these different usecases different Foundation models willbe better for different use cases so wewant to be able to have the ability tokind of pick and choose the right modelto explain a vulnerability the rightmodel to Summer Horizon issue the rightmodel to suggest a reviewer for an MR inorder to give our customers the bestexperience that's great that's great andand I I know we have partnered for quitea long time and the customers I believeare also very appreciative of of the newfeatures so my next question is thereare folks who are developers and andwill use the apis and also benefit fromit but what about the folks who have notbeen introduced to coding what what doyou think like how can these generativeAI models especially the code relatedmodels bring the folks those folks whohave been excluded from softwaredevelopment into the mainstream yeah Imean it's just a tremendous opportunityto shorten the uh the learning curve andand I think level the playing fieldum by the way I'd love to steal yourprompt for the recipe generator that'sgoing to be super helpful in myhousehold I think uh you know a fewthings I'd say there are number onebeing able to provide kind of a pairprogramming experience to somebody whomight be new to the field learning it ontheir own in their free time or or evenon the job I think is super helpfulpeople learn well by doing as opposed tokind of the abstract so being able togenerate kind of reference code ishelpful but also as I'm kind of makingmy way through it and learning thebasics just seeing the suggestions thatAI you know can can make and havingsomebody kind of look over the shouldervirtuallyum you know I think is super helpful tokind of accelerate that learning incontextum and I'd actually I think there's asecond opportunity that maybe is is lessobvious but maybe even more powerfulum you know I I spent 20 years in thesecurity industry and and you know cameto gitlab andum you know because I'm super excitedbut needed to get smart about devops andyou know I kind of had a casualunderstanding of devops but needed toget much much better at itum and I I have to tell you that largelanguage models actually were superhelpful in that processum you know I think for a few reasonsnumber one uh LMS are really good atputting things into context that peoplecan understand so you can say hey lookcan you explain kubernetes to somebodywho's an expert on security incidentresponseum and you know it might be wow okaywhat's the connection there LMS arereally good at it they can just kind ofgive examples that you can understandand I think that can shorten thelearning curve and be really helpful andthe other nice thing is there's nojudgmentum maybe the AI overlords are secretlyjudging us but I didn't feel anyjudgmentum that you know you can you can askquestions that you might be afraid toask or you might be intimidated to ask asenior developerand so I think I can really shorten thelearning curve and make things moreaccessible yeah that's great that'sgreat and and I think the the way theapis and the models are evolving thatwill definitely not only help beginnersand intermediates but even seniordevelopers can probably use it as areference so for sure uh and and finallylike how do you think Kodi API is beingintegrated into gitlab all the productshow how are you integrating it uh anythoughts you have on the upcoming plansand how how do our customers leverage ityeah we're thrilled with the partnershipuh you know it can kind of go back to myprinciples earlier uh I think kind ofthe shared kind of appreciation for theimportance of privacy is super importantfrom an actual implementationperspectiveum you know we've got uh 13 AI use caseslive on gitlab today across the sdlcthere's probably two that I think areyou know particularly relevant fortoday's discussion you know the first isa capability called code suggestionswhich leverages uh you know the Kodifamily of models to actually provide asimilar experience so in context as as adevelopers building it'll suggest youknow kind of it looks like you're youknow building a sort algorithm here orit might you know fill out a casestatementum with you know it looks like you wantmore languages so super helpfulum you know capability uh you know thatthat supports all the major languagesand the major Ides so so that's a greatcapability the one that I'm even moreexcited about I mentioned you knowhaving come from security for 20 yearsis a capability called explain thisvulnerability which by the way all theum we're committed to transparency allthe foundation models that we use are inour documentation which is available tothe public so we're leveraging Codythere as well uh and I I love this onebecause I think the challenge with thesecurity industry that that frustratedme for 20 years was we were trying to dothings top down I was trying to say youknow you know Implement these controlsand you'd have a disconnect sometimesbetween the appsec folks and your andyour engineers and I think we're we'reexplaining this vulnerability is sopowerful is it bridges that disconnectand I've been in these conversationsthey can be painful whereum you know it uh you train yourengineers as best you can but they'llnever be uh Security Experts and in thesame way your application SecurityExperts need to kind of have familiaritywith writing applications some of themare former Engineers but you knowthey're not as deep in terms of of thebuilding side so you you have this kindof tension there so I want to explainthis vulnerability can do is is actuallyjust in context in plain English it cantell an engineer hey here's what thisvulnerability means here's why youshould care about it here's how it canbe exploited in the wildum and it just facilitates thoseconversations and makes them much easierto have uh and and much smoother so umso I think that's been a huge winum you know for our customers and we'resuper excited about continuing to buildout that roadmap that that's greatthat's great thank you very much for thepartnership as well absolutely thank youthank you everyone"
}