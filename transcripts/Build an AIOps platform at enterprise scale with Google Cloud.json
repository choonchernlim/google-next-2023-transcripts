{
    "title": "Build an AIOps platform at enterprise scale with Google Cloud",
    "presentation_type": "Breakout",
    "categories": [
        "DevOps, IT Ops, Platform Engineers, SREs",
        "OPS209"
    ],
    "video_id": "UdVaexipP6w",
    "time": "Aug 30 10:00 AM - 10:45 AM CDT",
    "transcript": "foreign[Music]good morning everyone welcome to today'ssession of build an AI Ops platform atEnterprise scale with Google cloud myname is Sharon I'm a product managerhere at Google I'm happy to be joined onstage today with Bruno who's a principalarchitect at Google as well as Michaelwho is a SAS security engineer at Uberfor 8 A.M we appreciate that thank youthank youum so to in today's session we'll covera lot we'll talk a little bit about whatis AI Ops we'll talk aboutinfrastructure intelligence we'll give acustomer example of how they were ableto build a custom AI app solution thenwe'll talk about how you can get startedreally quickly with AI Ops with activeassist Michael from Uber will then joinus to talk about his experience thereand then we'll give a little hint atwhat's to come on Google Cloudand so that let's get started with whatis AI Opsso let's first start with a problem thatI think everyone in this room should befamiliar with where you have an outageand you have to figure out what wentwrong did something change recentlywhat's the root cause of this problemthere's a lot of finger pointing and Warrooms um trying to solve this issue andso that brings us to AI Ops which is aterm coined by Gartner that refers tothe application of artificialintelligence to automate processes anddiscover problems so that outages andissues that we just discussed can beprevented in the futureand so our customers know that you knowGoogle has some of the largest datacenters and infrastructure in the worldand we've published books on this likethe SRE book and customers want to knowhow we do it so I wanted to quicklytouch upon Google's approach tointelligent operationsuh we can think of it as divided intokind of four sections uh the first isthat whatever system or platform thatyou build must be able to see so itshould have basic monitoring andobservability capabilitiesum into the data then it must be able tothink it should be able to analyze thedata produce insights then do actuallytake action on those insights throughroot cause analysis providerecommendations and then finally carecontinuously learn based off useractivityand continuously improve the system aswell as the data with the ultimate goalof being what we call self-healingum and so with those four pillars inmind I'll invite Bruno up to the stageto talk a little bit more aboutinfrastructure intelligencethank you Sharonand thanks folks for joining us early inthe morning on this uh very interestingtopic for me so I'm a principalarchitect as mentioned before so and Iwork in the healthcare Life Sciencesspace and one of the things we weretrying to do with my customer JohnsonJohnson they were looking to automatetheir operationsacross the board including some of thethings we talk about so I'm going totalk a little bit about the platformitself and then I'm going to get into alittle bit more about the use case andthe architecture and then obviouslywe'll be opening up to the Uber storyand talking and having some q a afterthatsoso same problem that Sharon mentionedright they had a simple problem quoteunquote right how do we triage anapplication outagewho you know who's to blame you know italways comes down to those kind of sillythings like where isum uh is it because of a network outagedid it uh database change that affecteda bunch of other systems do we need tobring in Google Oracle all thesedifferent partners right having allthese War Room sessions right it's avery very difficult problem to uh to tryto solve and one of the most importantthings you need to do is to figure outyou know again based on those fourprinciples that Google has like how dowe get our arms around the data what'sthe data that we need for observabilitywithout the good data without the goodinformation we're not going to be ableto really triage the problem properlyand it's not an easy task because you'reworking with different silos differentsystemsEtcthe other thing that's really importantand this is common for all customers ishow do these pieces of infrastructureinterrelate to each other right so forexample if I was to change a version ofa database it could affect the front-endweb applications it could FedEx affectsome back end systems some other systemswe're not aware of a network change canobviously have a trick a ripple effectacross multiple multiple systems sobeing able to map what systems areaffected by which by each other and whatthe relationships are is also key sodata and the relationships between thesystemsnow one of the pieces that you reallyneed to take time we did this with withjnj but in general I think all customersshould look at it this way is what arethe pieces of of log data andinfrastructure data that we needto pull in right so I talked a littlebit about that before and it's noteverything it's not so obvious I guessif you look at some of the main thingswe have there like yeah machine logsapplication logs that makes sense rightNetwork logs performance logs auditingand security logs but then you want tolook at things likeum synthetic actions maybe we want tosimulate a strain on the system beforewe release that new you know networkconfiguration we may want to also pullin human sentiment and this is wheresome of the Googlebenefits kind of shine compared to otherSolutions because you could say Hey youknow I could take data from anywhere andthrow it into any solution start to dothis in that Analyticswe with bigquery we have the ability topull in external data sets very easilywe maintain that Google maintains thatfor you so think about for example ifumthere's a an incident like we have theHurricanes we have earthquakes in thearea things like that that could affectthe data center for Johnson Johnson orfor whatever customer right so thatweather data is actually important forus to plan outages or hopefully planupgrades without outages I should sayand then things like human sentimentanalysis so yeah how does human sessionanalysis kind of fit into this thinkabout call center information whereyou're getting a lot of customerscalling in and saying performance onapplications bad or it keeps crashingget two of those tickets five of thosetickets 10 of those tickets we have anissue right that should be automated weshouldn't we shouldn't know about theissue after the customer is alreadysuffering right so pulling in thatinformation is really important and wehave partner adapters and connectors tothings like TwitterFacebook so people don't necessarilycall the data center there's they'rejust like oh my God Bruno's applicationwas really awful today right whatever itis right they're not going tonecessarily call bruno.comby the way I don't have that site yetbut maybe I'll buy it uh to find outwhat's going onand all that kind of falls into kind ofgetting to True root cause analysisfeeding in all those aspects of data totry to see where is you know the mostyou know support tickets coming fromPlus network plus this okay now I have aroot cause analysis because it seems tobe a network issue based on thesetickets based on these uh calls thatwe're getting inso let's talk a little bit abouta use case where we took this platformand we actually partnered with HCLthey're one of the Premier sponsors heretoday if you want to meet with themlater I can introduce you and theytalked aboutum with the customer with ourselves uhkind of an evaluation like what's thebest approach to automating and doingsome AI Opsand uh so the need was so J J has aneffort going on to reduce their spendand to reduce their operation costs by50 million over the next few yearsum they looked at Google as a piece ofthis to try to automate some of theirservice tickets through servicenow andsome other pieceswhat they did was a proof of concept andwanted to understand what kind of whyGoogle would be good at this they foundthe ease of bigquery basically within amonth we were pulling in servicenowtickets through bigquery through lookerhaving an analytics platform so wealready had a dashboard across a bunchof different systems for them that theydidn't see before as well as starting totriage some of their tickets so theywere like this is quick this is easylet's continue on with this as well theother key piece and this is tough withevery company is having a good sponsorso we were lucky at J J that we had thehead of Ops we had this initiative andthis is like you guys are going to dothis no network team you're going togive them the data you know because thefirst thing they're like oh we do thisalready networking we got it down we'refine it's like yeah but do you realizethat a security change or databasechange could be affecting your networkand vice versa right thatinterrelationship piece is the hard partso having a good sponsor and alsoproving it out helped start to breakdown the side usand then you knowwhat was the customer actually able todo in this case so they were shootingfor 50 million they were supersuccessful 200 million savings acrossthe board over the first couple of yearsuh Google was 3.2 million of thatum sothe only application we did I think wasservicenow it was a very basicapplication and they already wereachieving 3.2 million so this year we'rehoping we're pulling in network logsLinux logs all these other types of youknow device logs are coming into thisenvironment now and so hopefully we'llimprove the systemeven moreso just to talk a little bit about theapproach that we took there and this isa model that will probably would followmost customers again depends on youryour partner or yourselves so firstpropose an architecture that works rightso what are the data criteria what isthe service level criteria what is ityou're trying to really achieve kind ofwhat's the best bang for the buck uh forthe bucket first and then kind of what'sthe future growth and then basicallyhaving the landing Zone andinfrastructure to test it out okay it'svery easy to believe it or not a proofof concept with this environment so youcould just pull in a bunch of logs getsome looker dashboards we have somepre-built ones that already do some ofthese kind of what-if scenarios andanalytics that work really wellhaving that whole platform is importantthen the first piece is okay let's givesome dashboard and observability topeople kind of prove ourselves out andthat was very successfulum as I mentioned alreadyand then what we started to do is startto put the AI in there so again withbigquery and these platforms we haveintegration to AI so being able to dowhat we call the traffic cop analysis sothink of 15 different servicenow ticketsgot opened about some kind ofperformance issue but they're allrelated around I'll keep picking onnetworking I hope there's not Networkfolks out here that I'm using networkingas an example but it's an easy one touse like they're all kind of pointing tothe network so we should be able to kindof learn from that and the next time aticket comes in not have to wait for 15of them we kind of can group themtogether know that there's a networkissue so we already started doing thatwith some pretty basic models the nextpiece that we're looking to dois and we're actually starting to buildout there is how do we take thisplatform improve upon it and do thingslikeum the magical self-healing at somepoint right right now we're doing somePredictive Analytics so let's see somewhat-if scenarios Google does the samething when they're about to implement anetwork change they actually have whatif uh environment that actually teststhings out before they push it out samekind of things there and then we alsostarted talking to the security folks sothis started opening the doors toeveryone uh in the environment so thesecurity team's like this is really coolI need to know more information about myAudits and and what what's happening inthe environment you guys can give us amore full picture of of devices that arelogging on from the device logs Etcand one of the pieces they're looking todo is potentially put Chronicle in therebecause basically you have the landingZone already you've got the feedsChronicle concern through all that andstart to detect cyber threatsum I chartarchitecture it'll be in the slides foryou uh later for for next to downloadbut this is an example of the platformarchitecture uh pieces of which areimplemented today now Jane Jackum so you can see from left to rightyou're collecting different data pointsI mentioned that I mentioned the abilitywith bigquery to leverage uh a lot ofpublic data sources as well as internaldata sources as well as servicenow aswell as they're looking at teams forpulling in chat so people are chattingthere's some issue with something goingon they can pull that in as well thenthe transformation piece obviouslycleaning up the data deduping thingslike thatthen analyzing it so this is where thestrength of bigquery with looker comesin right one once it's in bigquery wecan just go at it and we can actuallyadd some machine learning which we didso in this case we've got some NLP andwe also have some custom machine modelsthat they built to do some of thetraffic cop analysis they're putting insome Predictive Analytics nextand then as I mentioned looker is thethe visualization of everything that'sgoing onthe next piece they're also looking todo is well this is great for there thisis actually all for their on-preminfrastructure in their data centersthey're like we got to extend this tothe other clouds next so this is whereactive assist comes in we're going totalk about that laterum we're like well for Google we kind ofgot a you know a leg up because we canstart feeding in the automated AI piecesfrom Google that already start to detectthese things like Network performancelike security uh monitoring where maybethis person can have all the securityacross all these different things uhcompute monitoring so those kinds ofthings so we're already feeding not justlogs from Google we can actually startpulling in from the AI recommenders andthe active assist pieces as wellso this is just kind of a a briefsummary slide of what I mentioned soreally what the platform did for Jay andJane for customers in general is kind ofbottom up break the silos I think that'sreally important it's really cool to seeafter about a year on this project thatteams are coming to us I never thoughtthe security risk management team wouldcome to this team and say yeah we'llgive you more data and we'd like to workwith they're always like stay away fromus at security right that kind of nowthey're like yeah maybe we should beworking together they really see I thinkpeople see Google as a leader and kindof modeling what we do in our datacenters to support their own datacenters again I talked about the savingsand the overachievement so you can seesome real value and some real goalsokay with that I'm going to pass it uhback to Sharon and uh we'll be talkingto you laterthanksgreat thanks Brunoum so we just talked about how onecustomer was able to build you know acomprehensive custom AI op solution butwhat if you were short on time as wellas resources this is a great way whereactive assist is already available to dotoday on your gcp projects and it'sreally easy to to integrate into anycustom AI app solution as well as ITaddresses some of the use cases for AIOps such as advanced business insightspredictive capacity management andfinding the needle in the haystackso activeassists have at insights andrecommendations that help you optimizeyour Cloud across a variety of valuepillars whether it's you want tooptimize your cost improve yourreliability improve your performance Etcso like I said they are available to youtoday on your Google Cloud projects youcan see them on the UI API CLI or youcan export them to a bigquery data setand so with that I'll invite Michaelonto this stage who will talk a littlebit about how Uber was able to integratewith active assist in their ownintelligent automation solutionawesome thanks so much uh hi folks I'mMichael I'm a security engineer at Uberso I'm gonna talk about a few use casesthat are first and foremostdriven by security but also by someother uh optimization requirements sofirst uh a bit about our journey firsthow did we get to active assist in thefirst place so we um as a company westarted using Google Cloud around 2017or so back then when we tried to dooptimizations on our infrastructurepretty much as Bruno was saying earlierright a lot of manual labor so we wouldneed to look at logs create the logsinto using bigquery and then trying todo the optimizations manuallyso um you know one example is lookingfor inactive resources that we want toremove from a security perspective rightwe want to reduce the attack surface wewant to remove unused resources for thatwould query the logs right look at auditlogs now if I'm going to try to look ataudit logs for the past 30 days 90 daysit's a bit of a hassle especiallybecause you need to filter out a lot ofthe activities right there's the kind ofObserver affecting the observationeffect there so I need to filter outmyself looking at the project there'sother projects in gcp that can be usingservice accounts looking into yourproject so you need to filter out thatas well right so a bit of uhsignificant work when we look at theselogs just to understand the activity ona particular projectso around 2020 we started using activeassist foras I mentioned for first and foremostSecurity benefits but also quickly wediscovered that there's also costbenefits and even sustainabilitybenefits so with that let's go to thefirst exampleso let's dive a bit deeper into this usecase of inactive projects on gcp noworganizations such as Uber has thousandsabout two to three thousand projects atany given day in gcp so quite a quite asignificant scale we cannot even hope tomanually keep track of projects usageactivity inactivity so let's take a lookat the left side here there's um fourdifferent states that we are interestedin when we look at a project right aproject can have an owner an activeowner someone in the organization ormaybe a Google groupor maybe this owner left theorganization or moved to a differentteam and the project no longer has anactive owner so this is built from asecurity perspective right also frommaintenance perspective you want to havesomeone that is in charge of a projectso either orphaned no owner or a projectis own now on the upper side here we canalso look at activity either a projectis currently active it has resourcesthat are running or maybe it hasresources but they're not really used soinactiveso on the left upper side this is wherewe want to be we want to have an activeowner to a project and we want to haveactivity in this projectif we go down we can see that if aproject is used but it's over front wellthen we need to find another owneron the upper right quadrant right we cansee a project is uh unused and we havean owner so we can talk to this ownerand say hey looks like this project isnot being used take a look right maybeyou want to delete this project deletethe resources and the project itselfso for that we built automation on topof active assist I mentioned first we'relooking into the logs it was a bit of ahassle then we switch to activities as asimple API call to activeassist and weget the understanding of whether theproject is actually used or not also weget the CO2 emissions from this projectand simple additional call to a cost APIwe got the cost that this projectconsumesso on the right side you can see this isan example of a jira ticket that wecreateso we're signing to the project owner wesay hey take a look at this project youhavelooks like unused resources in thisproject the project driven generates soand so carbon emissions the cost is soand so so we motivate the owner to getrid of unused resources removing thisproject again reduces the attack surfacebenefit to security benefit to reductionof cost and sustainabilityand then finally in the red quadrantdown right side if a project is not usedand it is orphaned generally we can justget rid of this project ourselves now weneed to do it carefully right becausewhat if someone uses a project once in along time right once in a whileum and it so happens that the project isnot used it's not owned so generally westart by blocking permission to theproject we stop the resources before wedelete it so do a bit of a scream testbefore we actually delete ourselvesnow how did we build thisso on the right side you can see thearchitecture it's entirely on gcp usinggcp Services we have a cloud schedulerevery now and then triggers through popsup worker Cloud functions the cloudfunctions communicate with active assistquery active assist for project activityand query billing API for the projectcost then we store this results infirestoreand through another Pub sub message wetalked to jira or servicenow or slackand reach out to the project ownersaying hey take a look at this projectlooks like it's not being active it'snot a complex architecture rightencourage everyone to you know to take alook and maybe you can build it or seeyourself I'm sure you can do thoseyourselvesand immediately reduce the costand the attack surface so quitebeneficialokay let's move to the next exampleagain we're still in the security worldright uh IAM recommendations so we knowthat in gcp we assign rolesto uh project owners to users now theseroles are often over privileged right itused to be the case that everyone wouldjust ask for the owner role or an editorrole this is not what we want to doright we want to have least privilege sohow do we tackle thisso again we look at activities so thistime we look at IEM recommendationsand if we see that there is arecommendation of reducing the rolesreducing the permissions we again use inour case Jiro service now tickets totalk to the owner and recommend reducingthese privileges these permissions soit's completely automated right the userpretty much has to just click on acceptrecommendation and the role the theunnecessary roles get removed so you cansee on the right hand side it's a blockdiagram of the architectureuh manager it's just a fancy word for acloud function that runs a bit of alogic talks to IEM recommender inactiveassistthen we decide to take an action basedon the recommendationswe attach risk scoring based on the overprivilegedness right of the findingsthat we have and we decide to eitherautomatically remediate right soessentially accepting accepting therecommendation ourselves or create aticket and assign the ticket to a userokay so again reducing the unnecessarypermissions reducing the attack surfacefinal uh example is a compute enginerecommenderso here we really want toutilize our compute resources right weoften over provision compute resourcesnow before activities it was quite adifficult job you would as Bruno wassaying you would have to look at thelogs coming from VM instances right weneed to understand how much CPUutilization is being done maybe deployagents on these instances right todayit's much easier for us again justanother query pretty much to activeassistunderstanding whether a VM has not beenutilized or is underutilized in terms ofCPU or memory maybe it has disks thatare attached but have never been usedso these recommendations allow us toagain generate tickets uh and in thesetickets we can ask hey maybe you knowde-attach remove these disk because it'snot needed save cost save onsustainability as wellyou can see on the right side this ishow the recommendations look like onactivist system really see active assistas the managed ml or managed AI offeringfor ourselvesso no more no more digging into the logsright essentially as I mentioned just anAPI query we see that we have unusedresources or we see that we need toresize an instance and we can eithereither accept this recommendation rightand and uh make the change ourselves orask an owner if it's a more delicatechange to uh do it on their partreduction Tax Service cost and CO2emissionsso with that I'll pass it on to Sharonto summarize on AI Opsjust to quickly wrap up we talked abouthow one customer was able to build acustom AI op solution we talked abouthow you can get quickly started on yourAI Ops Journey with active assist but Ijust wanted to give a little quick hinton what's to come so Google Cloud AI Opstools are coming in 2024 we know thatwith the surge of AI in developerproductivity that we need to alsoprovide AI to help you set up monitoringtroubleshooting as well as mitigatingfuture issues so Google cloud isinvesting in Native Solutions so thatyou can have tools out of the box andthat's coming next yearand so with that thank you for attendingtoday's session I'd encourage you tocheck out our other sessions if youwanted to learn more about observabilitytooling active assist green Ops and thenif you had further questions you canalso come to our devops booth ininnovators hive"
}