{
    "title": "Building a next-generation scalable game data platform using Firestore",
    "presentation_type": "Breakout",
    "categories": [
        "Database Professionals",
        "DBS203"
    ],
    "video_id": "Z8NTrBTVifE",
    "time": "Aug 30 06:45 PM - 07:30 PM CDT",
    "transcript": "foreign[Music]helloand welcome to building the NextGeneration game data platform usingfirestoremy name is mid Nguyen and I am thesenior product management lead forfirestorejoin with me today are also Martinlivsey director of software engineeringfor 2Kand also Marcelo Pinero Staff Solutionsengineer at Googlewe have an exciting session for youtoday it will kick it off with a briefoverview of Firestorm followed with newfeature announcementsthe highlight of the session will be afireside chat with 2Kwe'll wrap it up with live questions andanswers from audience members likeyourselflet's get startedfirestore's mission is to help youunlock application Innovation withsimplicityspeed and confidencewe do this in three waysthe firstis through an Enterprise grade documentdatabasethat offers flexible Json queryabilityserializable acid-base transactions in adistributed and sharded environmentand key Integrations with gcp's billingmonitoring and security toolssecondly firestore offers hands-freescalabilityyou can elastically scale Firestar bothup and down with no interventionfirestore also offers99.999SLA backed availability guaranteesand this is managed through automaticreplicationand in the rare event that your replicadoes go down there is zero data loss andzero downtimethirdlyfirestore is focused on developerergonomicsto make you more productivefirestore is supported in over 17languages in sdksincluding back-end languages like Javaand client-side SDK languages likeJavaScriptfirestore's client-side sdks offerunique capabilities like real-timesynchronization and offline cachingand you can have the confidence thatwhen you adopt firestore you will be aparticipant in a large developercommunitymore importantly Firestar has over 5million databases created todayand Firestar applications power over 1.3billion monthly active end users usingFirebase offwe realize that your company's value iswithin the products and services thatyou offerand that long application developmenttimelines hinder your ability tomaximize that valueso let's explore a little bit whyapplication development takes so longwhat you see here is a common multi-tierapplication architectureyou start with your databasethen with your microservicesAPI gateways and then a number of UIclients that access those back-endserviceseach tier of that applicationarchitecture requires operations thatincludes availability so scalability andsecuritywith serverless products like firestoreyou can delegate the operations of yourservices to Googlenow serverless Technologies tend to giveEnterprise customers the right balancebetween customizability and efficiencybut on the firestore team we felt likewe could do a little bit moreone of the factors that plays into amulti-tier architecture is the need tohire for multiple specializationsand when you hire for this multiplespecializations you also have complexproject management across thosespecializations which tends to slowinnovationwith this Insight in mind firestoredeveloped a mode of access in which wecall back-end as a serviceand with back-end as a service your UIclients can directly access firestorein a secure mannerand when you bundle this with universalapplication Frameworks like Unity orwith flutteryou can develop against a single codebase and deploy across all majorplatforms including web mobile anddesktopso the combination of firestore andflutterallows you to focus on hiring for asingle specializationand with that team you can give thatteam the autonomy to operatethat enables rapid innovationso to summarizeflyer store is first and foremost aEnterprise grade serverless documentdatabasebut it also offers an optional mode ofaccess in which we call it back-end as aserviceokay this next section covers newfeature announcementsbut before I begin I want to quicklyacknowledge the hardware that ourcross-functional team has been puttingin to make today possible thank youfirestore teamour future announcements today focus onthree major bucketsthe first is developer productivitythe second is manageabilityand the third is Unified data cloudlet's get started with developerproductivityso we know that in developing Richapplications you also need Rich queryfunctionalityand I'm excited to share today that weare announcing a new set of queryaggregation functionswith sum and average you'll be able tocalculate aggregations across yourdocumentswe're also taking count to Generalavailabilityand frequently you want to be able toconduct queries across multiple fieldsand multiple valueswe're taking or and in to Generalavailability as wellokayall the rages around Ai and mland you know with all the work thatwe've been doing around pre-trainedmodels the access to large languagemodels has definitely been democratizedbut there's still quite a bit of work inregards to the last milehow do you applythat Ai and ml to your datafirestore is aiming to bridge that Gapwith our new text enrichment extensionsyou'll be able to detect toxic hatespeech with a matter of a few clicks ofa buttonsimilarly you'll be able to summarizelong-form textstranslate text in over 135 languagesand even transcribe audiowith media enrichment extensions you'llbe able to classify imagesconvert speech to textand even perform optical characterrecognition and store that in firestorelastlywith our interactive AI extensionsyou'll be able to utilize firestore andpopular services like vertex AI in orderto build your next chatbotin addition to productivity we're alsofocused on manageabilitywith multiple databases you'll be ableto create individual databases that areisolated for security and performanceand you'll be able to monitor thosedatabases and view the bills of themindependentlywith point in time recovery firestorewill Version Control your data and holdon to that history within our onlinestorage systemwe make that data directly queryable toyouso that in the event of the human erroryou can recover rapidlyand with scheduled backups firestorewill capture and retain your backups ina cold storage systemanother component of manageability isobservabilitywe've extended firestore's keyvisualizer to help you identify indexinghot spotsI'm also happy to share that firestoreis now available in over 27 locationsgloballyokay we want to make it easier for youto unify your data servicesand with firestore's bigquery extensionsyou'll be able to bi-directionally linkfirestore and bigquerylet's say that you have a set of liveelection results that are coming in andbeing stored in bigquery but you reallyneed to serve those results to your endusers using firestorewith a few simple clicks you'll be ableto set up scheduled export jobs frombigquery to firestoreand with our new event Arc triggersyou'll be able to subscribe to databasechanges and to deliver those changes tocompute environments like gkeCloud runand Cloud functionsthis is really great for use cases likedata replicationto use engines like full text searchokay this wraps up our new featureannouncementsI'd like to now invite Martin or Marceloon stageMartin and Marcel will be conducting alive fireside chat to reflect on 2k'sJourney on firestorehello everybodymy name is Marcel opinero I introducemyself first I'm a Staff Solutionsengineer here at GoogleI work with the coolest Greatest LatestCutting Edge technology map on my backat Google in the best customers that's agreat combination so marching why don'tyou introduce yourself thanks very muchMarcelo so I'm Martin lipsey I'm adirector of software engineering insidethe core Technology Group uh at 2Kawesome so just to level setexpectations in the knowledge base herewhy don't you talk us talk to us about2k games in your role in your team whatdo you what do you guys do there okay so2K Games is a division of take two uhwe're one of the publishing labels oftake two we have a seven Studios thatproduce many iconic games that you'veall seen loved played over the years NBAis approaching its 25th year inproduction uh you may have come acrosstitles like CivilizationXCOMand Bioshock these are all 2K Games sothat's as part of 2K kind of like wehave a core Technology Group thatdevelops a online back end as a servicethe database behind that is just onepiece of the tool set that we provide toall of our Studiosawesome uh mentioned a phenomenal jobpresenting the new features I'm superexcited about them all I'm not going togive you a hard time pick onewhich feature are you eager to adoptwhich makes and why is that importantfor you okay just one yep so of all ofthe things that been talked about theone that's most of interest to us is theisolation of databases into differentthingsright now how the system is implementedwe have one shared back-end database andmaybe some of you know something aboutgames when games go live the load that'son them is incredibly spiky okay uh weakinside the first couple of days we canhave uh 10 times or more load that wewould normally expect for steady stateunder games so if I've got a back end asa service that's supporting multipletitles with a databaseI'm going to have some nervous titlesthat are already out there and beingused because they don't want the newtitle to come in steal all theperformance at the back end so if I cansegregate out that data betweendifferent databases then I have a bunchof very happy Studios that feelconfident that we can launch our newtitles and their title isn't going toget affectedawesome so avoiding the Noisy Neighborproblem right very much so yes awesomeso let'sum Back to the Future kind of momentlooking back when we started talking canyou elaborate more on the uh whatproblems we're trying to solve when youapproach at Google and why Google Cloudwas important of choiceso I initially heard about to kind oflike the idea behind open saves aboutfour years ago it was a nascent ideainside Google at the timeand it was really just targeted at gamesaves only nothing else and I I reallytry to challenge Google to come up turnthe dial up to 11 guys let's see whatelse we can develop hereand uhkind of like take that bigger view ofkind of like what you can do with thesystem so with that partnership we puttogether a whole uh scale of kind oflike how can we store other data inthere so the kinds of data that we storein a database now are like the loadoutsof characters uh configurations of theonline games such that if we'reoperating and we want to change thebehavior of the game we can actually doit in real time while the game isrunning and then there is the initialthing that we had as well which is allof the game saves uhwhy Google kind of like last I heard youguys know a little bit about scalingyeah that's fair one or two things yeahwhere does 2k want to go scale scalescale think about a title like NBA youthink about the scale that that titlegoes to kind of like we need to be ableto onboard a title like thatinstantaneously no issues so that's whywe partnered with Googlebut we needed a performance and costeffective solution as well so that'swhat uh the the kind of like the systemthat we're going to describe in the nextslide kind of like really allows us todoawesome so we talked about you know theproblems we're trying to solve opensaves Concepts let's talk a little bitabout how we build this together in anyconversation without an architectureslide at least to me is not aconversation to start with so let's putasneak peek of the architecture's lifethat's just a snapshot of one of thebackends I understand that there areother components correct if I'm wronghere yep use the gun is as the um gameFleet Management Mark is thereuh uh open Match most with theirmatchmaking systems all running on topof gke right correct so I'll stop nowit's your talk can you walk us throughthe architecture flow and how it worksabsolutely so uh this is your genericarchitecture slide for any onlineservice they all look the sameuhon the right side is open saves so thisis the framework that we get tofirestore throughuh there's an in-memory layer for all ofour rapid access items then firestore isthe primary usage kind of this is whereall of the generalized unstructuredstuff goes primarily Json objects butcould be anything in there imagesstrings whatever and then the game savestend to end up in the kind of like thelarge bulk storage areaso fronting there we have what weinternally built at 2K which we callcloud data it's a Gateway and it adds inkind of like extra stuff that we need tobe able to do so we need to know whodoes this data belong to kind of likewhich customers data is this which gametitle is it serving is it uh kind of aswe'll talk about in a minute is it in isit uh PGA is it midnight Sans data andthen finally kind of like we need somekind of access permissions around thesethings uh I don't want one game to beable to read the data of another game sowe have a whole set of read writepermissions that allow you to kind oflike[Applause]keep keep the data segregated betweenall of the titles and then on the frontof that there is the SDK that we useinternally at 2K to attach into all ofour gamesyeah and I can see the global are youdone sorry yeah okay so the global loadbalancer there that gives the globalPlanet scale reach and scalability yeahso all this is beautiful on these slidesgreat let's make sure that wetalk to the audience about what isactually running on these things rightabsolutely shall we talk about it yepwrong buttonso you may have heard of some of thesetitles all of these came out within thelast few months all of these arecompletely supported using the clouddata open saves and firestorearchitecture that we talked about so PGA23 is the 2K golf gameall of the data around how the systembehaves and then as you're playing thegame how do my statistics accumulate uhbetween all of the swings that they takeall of the shots they make in the golfgame they're all stored in this onlineback endMarvel midnight Suns has a completelydifferent usage pattern because it'sit's a very different kind of game butsimilarly they store small unstructureddata for many different things but thenthey also have large game saves thatthey store several megabytes at a timethat is built into the back end it'sgreat because we can we don't have tochange anything the game team can justthrow things in there it goes in theright place and then the most recenttitle that really is using all of thecapabilities as a system is Lego 2Kdrive it's got everything in there westore configuration files for the titlesuch as I mentioned you can change thebehavior of the game on the Fly theclient picks it up and it's all storedin one place in the databasethat's awesomeso can I conclude that you have someexperience launching games a little bitwe might have launched one or two okaylet's talk about gaming launchexperience yeah right uh you've launchedthose games using Google Cloud can youtalk us a bit about the experience usingfirestore you must have a big teamwe actually have a very small teampowerful there thank you uh you kind oflike the internal team that developedthe cloud data platform the Gateway isonly two peopleso it's small so if you didn't have aserverless firestore backhand with lowOps you know we we wouldn't be doing itokay yeah let me go back to the questionthen uh launching games you know talkabout the experience of launching gameswith Google Cloud how the firestore teamhelp uh how the your account team helplaunch those games yeah so I'll I'llkind of like talk about the PGA titlebecause this was the first launch of agame using brand new technologypeople are always nervous launching anew game when there hasn't been anothergame shipped on it before they'reworried about is it going to work youcan do all the testing in the universethat you want to do but no one'sconfident until it's actually out theresupporting it we had a minor hiccupguess what Utah new technology thingsalways work perfectly first time rightmaybe not we had a little bit of ahiccup but the Google team was there forus they were there they had 24 hourrotation to the first two weeks alongwith us to make sure that when therewere any issues that we could pick theseup and we could actually do somethingwith it awesome what I like about thisexample is like uh in this caseparticularlyone of the features that mean presentedthe key visualize everything vaccinethat was keyto solve to identify the hot spottingyeah sowe had the issue we couldn't work it outGoogle opened up their box of tricks andthis the kind of like the key visualizerwasn't even in uhpre-production yeah you kind of likesaid hey we've got a new tool it'scoming it's not live yetas kind of like uh you know the one ofthe partners that we're working withwe're going to take it out of the boxnow and use it and it was exactly thetool that we needed to sort out theminor haircut we had an index clash andthe visualizer picked it up straightaway solved the issue we were done anddusted in a couple of days awesomeum and just going back to the uhlaunch experience uh we have a veryrobust process as Martin was describinga little bit of it and our goal westrive to make gaming launch gaming gamelaunches as boring as possibleand at the end of the launch someonesends the meme of this Lounge could havebeen an email that's the goal so if youhave that that's the cheaper goal rightyep somidnight Suns Lego 2K drive from an opensaves and a cloud data perspectivecompletely boring you can have no issueswhatsoever very happy internal teamsthat their games launched at scale kindof like out of the box that's awesome uhwe talked about Back to the Future I'mgonna put a crystal ball right here nowlook into the future what does thefuture look like for youuhmaybe just maybe we might be making somemore games can like you never know Ican't talk about what they might be yetmaybe you can guess some of themso all of this technology is going to gointo pretty much every new game that 2Kis building over timeuhand then that kind of Gateway that Italked about earlier the the cloud dataGateway that we constructed to kind oflike build on top of open saves ourintent is to also open source all ofthat technology as well uh we're gonnakind of like d2kfi it so it's verygeneric but that's our goal is to opensource that technologyawesomeum thanks again for the years of strongcollaboration partnership likewisethanks to you and your team the whole 2Kteam I'd like to thank also my team mythe whole support team from Googlethey're therethanks for all the help[Applause][Music]"
}