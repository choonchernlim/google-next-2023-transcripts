{
    "title": "Building fast, scalable, and reliable apps with Firebase and Cloud Run",
    "presentation_type": "Breakout",
    "categories": [
        "Application Developers",
        "DEV100"
    ],
    "video_id": "uepq1sOjt0w",
    "time": "Aug 29 02:15 PM - 03:00 PM CDT",
    "transcript": "foreign[Music]folksuh how's everybody doinghope everybody got some food short handswho's had lunch already who hasn't hadlunchokay good so I'm not a super not a superhangry crowd that's uh that's a goodstart um anyway uh here to talk about uhbuilding fast scalable and reliableapplications with Firebase and Cloud runuh I'm Justin Mahood I'm a productmanager in Google Google cloud and Iwork on cloud run and other serverlessproducts and I'm here with Dimitrihey folks my name is Dimitri lylan I'm agroup product manager in Firebase we'rea big team and I work specifically onsome of our serverless Technologies sothat's what we're going to be talkingabout todayawesomeuh so yeah we're going to talk about uhhow to use two key pieces of Google'sdevelopment ecosystem that go togetherlike peanut butter and chocolate andthat's a gcp and Firebase andparticularly Cloud run on the gcp sideuh first I'll give you guys a quickoverview of of cloud run and what it isthen I got a demo of using Cloud run andour Integrations feature to takeadvantage of uh some of firebase'sfeatures we'll talk a little bit aboutwhat's new in Cloud run and then I'mgoing to hand things over to Dimitri whois going to go onto a little bit of adeep dive of the Firebase ecosystem andthen he's got a demo that's going to tieeverything togetherso first we'll start with Cloud run uhokay show of hands who here has usedCloud run in the pasta lot of folks okay well some of this isgoing to be reviewum but you know Cloud run lets youdeploy and scale applications quick andsecurely in a fully managed environmentit's simple and automatedyou give us a container and we handlethe rest including scaling up and downand scaling to zerothere's no infrastructure to manage youdon't have to create a compute clusteryou don't have to configure networkingset of TLS certificatesand it allows you to go faster adeveloper can go from code to a cloudrun microservice in secondsuh and we do that uh using two differentkinds of resources sort of twoPrimitives within Cloud run on the onehand we have Services services arerequest driven uh and auto scaled so Ithink http microserviceum but it's not just HTTP we support uhevent driven Services as well aswebsockets grpcum it's got built-in traffic splittingso that you can do gradual rolloutsbetween new revisions or you know doblue green deployments out of the boxyou also get a publicly accessible URLand a TLS certificate uhas soon as you deploy and that's behindour load balancerum theCloud run service is as I mentioned Autoscales up and down and it's trulyserverless it scales down to zero whenyou're not getting any requests butyou're only paying for the CPU andmemory that you're consuming while yourcode is running and while it's servicingrequestson the other side of the spectrum wehave Cloud run jobs uh and you knowCloud run jobs are containers that runto completion there's no HTTP server uhin these containersum and uh so these can be manuallytriggered and can run a number of tasksin paralleltasks are what we call instances ofcloud run jobs and again those can bemanually triggered or they can betriggered off of a schedule but but likeServices you're only paying uh you'reonly billed for the compute and memorytime that your job is executinguh because because quadrun ispay-per-useum we automatically scale Services upand down uh whenever a whenever there'san HTTP request coming into the URL ofyour service uh once that's routed toyour container instance you know the theclock starts uh is your instances atwhen your instance is done servicingthose requests surfacing that requestthe clock stops uh and assuming there'sno more uh no more requests in the queuethen the billing stops at about 100millisecond granularityum there's a generous free tier and wedo offer uh and we do offer committeduse discountsbut I do want to spend some time talkingabout how Cloud run enables developersto go faster and this is where some ofthe Firebase pieces are going to tie inso first offas probably everybody here knows Cloudrun is built around containers but whatthat means is that no matter whatprogramming language or framework yourapp is written in you can deploy it toCloud runyou know the first example there you cansee uh we you can specify a pre-builtcontainer that you've built elsewhereand give it to us or you can justprovide a source code and using tightintegration with Cloud build we'll buildthat to a container for you if there's aDocker file we use the docker file ifthere's no Docker file we'll we usegcp's build packs out of the box todetect the language and try and buildthat into a container that cloud runknows how to runuh taking that a step further we alsohave built-in support for continuousdelivery you can write from our consoleUI configure a connection to your gitrepository for your Cloud run serviceand every time you push on that Branch anew build gets kicked off and it'sdeployed and live within secondsas I mentioned before you get a publicURL out of the box of course you havecontrol over whether that's truly publicand requires no authentication or onlyallows authenticated requestsuh but finally no application is just asingle container or very fewapplications are just a single containertypically you've got dependencies in theform of other services sometimes thoseare databases sometimes those are othernetworking Technologies and So latelywe've gone a step further and offeredone-click Integrations with other Googleservices so that you can build out yourapplication to take advantage of allthese dependencies I've got a few ofthem on the screen there but I want tobecause this is to talk about usingCloud red and Firebase I want to doubleclick a little bit onto Firebase hostingso cloudrun Integrations is in previewand we launched the Firebase hostingintegration a couple of months ago intopreview as well and it gives youone-click access to avanity.web.app subdomain as well as freecustom domains and access to a globalCDN that requires effectively noadditional configuration and I've got alittle demo of that that I'll show youguys here shortly but this integrationalso gets you a Firebase project as thegateway to the rest of the Firebaseecosystem so Firebase authenticationextensions and a number of the thingsthat Dimitri here is going to talk aboutin a few minutesuh so that's enough talking I'd love toget to a demo of uh uh showing a realworld application deployed to Cloud runand how we can take advantage of uh thefeatures of Firebase and Firebasehostingmy computer went to sleeplet's make sure that we are stillwe are back alive uh okay soum you know I recently wrote a little uhapplication for my personal blog uh Iwrote it in go it's my favoriteprogramming languageum as you can see it's a really simpleuh blogging blogging engine and it's allservers all of the uhpages and temp all the pages and postsare rendered uh with server-sidetemplatesum so it fits really nicely in Cloud runit's a single container for storage I'mactually using Cloud firestore which isour fully managed document databasewhich is nice and easy to leverage fromcloud run using Cloud Run's built-inworkload identity so it was as easy asadding uh adding an SDKI'm going to go ahead and deploy thislive so I'll do gcloud run Servicesgcloud run deploynext demo blockand that's actually going to upload mysource codeand uh it's off building that containerand that's not very fun to watch so I'mgoing to fast forward in time a littlebit using the magic of demo technologyand jump over here to where I've got uhmy blog my blog container alreadydeployed and like I mentioned beforeafter that one command gcloud run deployonce it's deployed I have a live publicURL now I've configured the security onthis so that it is publicly accessiblethat's always a choice whenever you'redeploying a new service for the firsttime whether you want to make it trulypublic or not but I can go ahead andclick on that and you can see it's myblog uh with just a couple of posts I'mjust getting started with this wholeblogging thing but I did talk about myrecent trip to the salmon ladder inSeattle where I live with with my kidsum but you know I'm looking in the thedefault URL is great to get up andrunning quickly but if I want to startsharing my blog on social media uh oryou know trying to get noticed on uh youknow various news sites I'd likesomething that's a little more userfriendly than the automaticallygenerated with some hashes URL thatcomes with Cloud run and that's whereuh Cloud run Integrations can come intoplay and Firebase hosting whoopsso I'm going to go back here on my nextdemo blog service and to get thatprettier domain and start to set up acustom domain I'm going to go on theIntegrations Tab and add a Firebasehosting integrationandsee I'll pick my DOT web.app URL I'mgoing to do Justin'slivelog.web.app and you can see no otherconfigurationall I've got to do is Click submitand this is Off to the Races now if Ineeded to enable those apis except termsof service which I have already done inthis project but there would have been adialogue at that stage so I guess it'stechnically two clicks but now this isoften deploying and again I'm going touse a little bit of demo magic uh tojump aheadum and uh on another service that I'vealready pre-configured but you can seethat the Firebase hosting site is liveand that I've got justin'sblog.web.appis a live URL right over there and if Iwant to jump further to the Firebaseconsole and further configure thisintegration I can do that with this linkum so I'm going to do that and jump overhere again now I'm in the Firebaseconsole uh and this is a loadingdirectly from my oh boy no internetthat's a fun onehere we goand we're backuh and this is this is pointing uh fromthat web.app URL in Firebase hosting andredirecting to my cloud run servicethat's running in gcp with with just acouple of clicks and so that's a muchnicer looking URL I feel comfortablesharing that with my familyum if I want to go and add a customdomain I can do that right from hereagain this is free custom domain I'm notgoing to make you sit throughconfiguring DNS it doesn't make for asuper compelling demo but so I'll uhI'll keep moving alongum but let's say that my blog uh hassuddenly gone viral you know my mysix-year-old son's uh hot take on salmonmigration patterns has really picked upa lot of interest on the you know theTwitter sphereum and suddenly my service is gettinghit with you know a couple hundred to athousand QPS now this was not a reallycomplex application that I built tohandle uh huge traffic spikes I didn'treally think about it you know I buildit pretty quickly and deployed it in inone command so let's go see how cloudrun isis actually helping me service thistraffic without me having to do anythingso you can see here a few minutes agoyou know the blog post started takingoff uh now you know it's pushing that'snot quite as much as I thought about 400a 400 QPS it's servicing itappropriately they're all 200s you sawwe were loading pages from the blog andreally nothing uh super noticeable thereyou will notice here's Cloud runscontainer instances scaling up right sowe start with zero and then the trafficstarts starts rising and it's you knowtrying to figure out where theequilibrium is where the application canuh can serve us uh you know can servicethe appropriate amount of concurrentrequestsum and that's awesome I do have somesome you know Rising tail latency butthat's that's a little bit to beexpectedum but this is it's awesome that cloudrun helped me cope with that without mehaving to do anything it truly took careof the infrastructureum but this is a Blog uh and I did hookup to Firebase hosting which has ThisGlobal CDN and this isn't not like it'sincredibly Dynamic content doesn'tchange that often uh so without anyinfrastructure configuration with asimple code update I can take advantageof that CDN to dramatically reduce myinfrastructure usage and the load on myserver here and I'll show you how to dothatI'm going to jump back to my code so theonly thing that I need to do to takeadvantage of the CDN is in the code thathandles requests is go ahead and set acache control header in my HTTPresponses for all of the post and indexuh all of the post and index responsesfrom my blogthis is just telling browsers and theyou know any server or CDM that'scaching along the way that hey it's okayto serve a cached copy of this contentcontent for some TTL in this case Ichose a ridiculously small TTL of 10seconds again I'm not updating my blogthat frequently but it gives you anillustration of even a very light amountof cachingwith very little configuration can canhelp you with your infrastructureI'm going to go ahead and gcloud rundeploy and I'll do next demo blogcashagain I'm going to let that go off tothe races and I as I mentioned beforeI've demo magic I've already got aversion of that deployed and so I'mgoing to jump over there so I've beenpushing the same load you know there'ssort of the same 400 500 QPSsimultaneous load to both of theseServicessince before the session started one ofthem is going directly against theoriginal cloud run URL the other one ishitting the Firebase hosting endpointthat's surrounded through the CDN withthe appropriate cache headers and youcan see that the actual QPS that'smaking it to my container even with 10seconds of of caching at the CDN is youknow 0.1.2 KPS and I'm only serving asingle instance and you can see that mytail latency is the latencies of mypages and responses going back to myusers and to the CDN are much much lowerand that also means that my costs arelower so I've got a better experiencefor my usersand you know with an application that Ibuilt quickly and deployed in seconds Ican handle traffic spikes that mightcome from uh you know getting mentionedon a hugely popular news siteso that now we'll jump back to slidesso just to quickly sum up uh What uhwhat I just showed youum one we went from source code in go toa live service with a public URL uh inseconds I guess maybe a minute if wewaited for the container to builddepending on how much is cash but I'llcall it secondsum you saw a rapid scaling of cloud runin response to uh huge spikes atincoming traffic I didn't do anything toprepare for that I made no configurationchanges up front to my application uh itjust worked and then you saw one clickintegration that gave me a global CDNand custom domain from Firebase hostingand with just setting a standard HTTPheader I was able to dramatically reducethe load on my cloud run serviceumso I'll quickly jump to what's new withCloud run and then kind of the demoportions over but I want to give youguys an overview of some of the featuresthat have launched either to GA orpreview so far this yearum so we've launched a bunch of stuffacross a few pillars uh developerexperience expanded workload supportsecurity uh and networkingI'll dive into each of these I'll justgive a couple of highlights on each onebecause there's a lot you can feel freeto look at the uh look at the slidelater because it's a bit of an eye chartbut we've shipped a lot of developerexperience features to GA and previewover the last yearnotably there's GA support for clouddeploy Google's uh continuous deliverycontinuous delivery service now supportsCloud run and GA we launched theIntegrations feature to preview that Ishowed you including some newIntegrations notably the Firebasehosting integrationas well as a much asked for featurewhich is the ability to load imagesdirectly from public Docker Hubrepositoriesso no longer no more having to Firstcache it in Google container registry orartifact registryon the expanded support for workloadside this has actually been a prettyexciting few months we launched theability to run multiple containers in acloud run instance otherwise known assidecars to public preview a coupleweeks ago this is really excitingum we also G8 Cloud run jobs and CPUboostuh on the security side we now have GAsupport for the identity aware proxyand on networking we've got uh a host ofexpanded support for excuse me uhvarious Google load balancer types aswell as a pretty exciting thing thatactually didn't make the slide but wehave a preview launch of directvpcconnection outbound from a cloud runservice so no longer having to spin up aVPC connector that capability is now inpreviewso now it's enough of me talking andtalking about Cloud run I'd love to handit over to Dimitri here to keep tellingmore aboutdeep dive on Firebasethank you Justinuh enough enough talking now Dimitriwill continue the talking so Google gladto be here really wonderful to see youall and thank you for coming to oursession I work a lot with Justin it'sfun to do a talk with him Firebase andGoogle Cloud are very connectedorganizations and I'm just curious I'mgonna ask for some raise of handsbecause I I want to test a few thingsone of them is how many folks hereactually use Firebase and something workrelatedall right that's that's encouragingthank you thank you for being ourcustomersum who here thinks that Firebase andGoogle Cloud are kind of complete twoseparate product products I just hearthis a lot from customers okay one Bravecouple of Brave hands yeah be brave it'sokay tell us tell us we have somemessaging problemsum and in terms of uh Firebase hostingspecifically does anybody here useFirebase hosting in their applicationsokay awesomewell uh thank you for entertaining me sowe um just a kind of level said we aredefinitely a separate kind of teaminside of Google Firebase that is and weare a team that has a lot of productsand I'm going to give you folks a littlebit of a primer because there's a lot ofbooks in this room that don't useFirebase and you probably need a littlebit of an education of what we're evenshowing you I mean it's cool that wehave this integration okay dependent canyou use it I'm going to try to answersome of those questions and I'll alongthe way to show you just how muchconnection there is between the parts ofFirebase that I work on and Google Cloudso with that uh let's describe Firebaseso Firebase is a app platform the waythat I think about it is Google Cloud isa lot of technology that has to dowhatever the user needs it's verycustomizable very flexible sometimes wecall it Primitives in certain certainsituations but basically Google cloud isthis massive set of capabilities andFirebase is a very opinionated subset ofthat capability and we are a very appCentric team we think about how do weenable you folks to build mobile appsweb applications and how do we make thatas easy as possible so that's kind ofour mission if we're failing it let meknow but that's the goal and we focus alot on the pillars of web mobile andgames those are the three gamedevelopers those are three categories wewe have sdks in and actionablecapabilitiesum so really what what is Firebase kindof if you think about it so Firebase isa set of sdks and capabilities andsometimes services that we write inorder to make all this possible so wetry to make this as easy for you andtherefore that's a lot of times the SDKthat you're actually interacting with orthe CLI or the service that sort of liketakes complexity and makes it simplerfor you to use as an end user so that'skind of how we think about uh trying toadd value and quite a few companies useus uh you know there's many more uh butuh basically it's you know named youmight have heard of Firebase is isaround everywhere and it's always funjust to run into customers like many ofyou here in the audienceso another thing that is the reality ofour product is we have a lot of a lot ofproducts so Firebase is a platforminside of our platform we havecapabilities that span kind of threemajor areas the way we think about it isthere's an area where it's aboutbuildingum so that kind of left side of it sothe the building is the closest GoogleCloud these are the capabilities thatwe've created that often are Googlecloud services that we make available toyou as an app developer in an integratedway that Google Cloud by itself justdoesn't make it easy to do and then wehave the middle column which is improveup quality we have very famous productcrash analytics we have test lab youknow things that make buildingespecially mobile applications mucheasier and then finally we have in-appmessaging remote config again productsthat that make the world go around Cloudmessaging is very very pervasive outthere so with all these productstogether that's Firebase and here'swhere some of the misconceptions come inthat Firebase is just for mobileapplications that's just not true wehave had sdks for Developers for thelongest time it's it's one of the mostimportant audiences I spent all day longtrying to make web developers happyanother misconception is the Firebaseand fire story are the same thing Ioften get people coming up to me andthey go I use Firebase and I'm likegreat which product and they look at melike what in the database obviously I'mlike no we have a few more and manypeople use them so firestore is a subsubset of what we offer so we have twodocument databases we have security wehave lots of lots of capabilities andtodayI'm going to talk to you a bit about theleft side because that's that's kind ofwhere I workso this slide is something I createdjust to kind of like put put a nail init to say look these are the kind ofthings that that I I think about this iswhat I worry about this these are thethings I want to make easy for you asdevelopers to do so I spent a lot of mytime making sure a web developer mobiledeveloper has storage and compute anddatabases and security and we have awhole team of people that Firebase justfocuses on this if you come over and askme a question about Crash olytics I willnot be able to help you but if you askme about any of these things there's agood chance I can I can assist you on sothat's kind of where where we're goingto spend our timeso now that we understandum well actually I'm going to say onemore thing about Firebase so weum because this is an Enterpriseconference I wouldn't go into detail ifthis wasn't but terms of service so Ilike to be very transparent we have somesome products like hosting that is noton Google Cloud terms of service youhave to sign the Firebase terms ofservice just be aware of that someorganizations need you to go throughprocesses in order to do that so reallyinvestigate each product you want to usefrom us make sure it's on the rightterms we have products like you knowCloud functions which in production iscloud functions so that's on the rightterms of service right away but just becognizant of that I don't want you toget in trouble if you're using one ofour cool products and we and this is anarea actually we're investing a lot inlike we really want to make this to beeasier for you to understand as adeveloper you shouldn't have to worryabout this as much and we acknowledge itwill make it betterbetter than that these are products thatare really cloud aligned so let's go inand talk about Firebase hosting soFirebase hosting is all about thesethese kind of major pillar areas so thefirst one is easy easy deployment easydevelopment in general like you you'llsee my demos aren't very longI kind of laughing but just I'm like I'mlike I'm gonna hit once you like a manand be like okay I'm kind of done let'sgo look at the console because that'sreally all it takes to get thingsdeployed we've already talked a littlebit of a global CDN we we do have aglobal City and we manage it for you wedeploy our static site all over theworld and it's nice and easy we give youhttps and certificates out of the boxyou don't have to manage it we'llconfigure it for you and of course youryour static website needs an API andthat might not come from Google Cloudplatform but you might need to postsomething on Google Cloud that providesyou keep backing capabilities Cloud runCloud functions does that but customerscan also use firestore for right fromtheir mobile or web app directly sothere's even more available to you buttoday like you know it's a short sessionagainst you everything so we'll talk alot about Cloud run because this is thecloud run token Justin was like youbetter talk about Cloud runkidding it was much nicer than that andfinally caching we we talked aboutcaching so you saw how cool it is tojust take advantage of the CDN and itscapability so that's really thehighlights of Firebase hosting if youremember these things you kind ofunderstand a big part of what we do thisglobally available static hostingservice all around the world that's justa pretty pretty pictureum and then finally this is where we'regoing to spend our time so you as adeveloper again have two options if youyou know I mean you have more optionsbut canonically speaking most peoplewill choose either Cloud run for theirback end or they'll choose functions fortheir back end there's pros and consthere's videos for that I'm like I'm notgonna tell you which one to use butthere's definitely reasons today we'llwe'll just do a little Cloud around demojust to do something but both workequally well and I'll show you how easyit is to kind of mix your static contentand your API paths together to make allthat happenand another thing again if you're not aFirebase developer you'd be like wellhow do I use Firebase as a gcloud is youknow no it's its own we have our ownconsole we have our own uh tools andFirebase deploys kind of the the messagewe always send to customers like yeahFirebase deploy and this thing willactually go out and I'll show you howthat works that's something my machinehas Wi-Fi that's been fun all right solet's enough talking and talk aboutFirebase hosting Cloud run from a demoperspective so just give me a second Ihave to pull my machine up here makesure that it's awakeand functionalcue the music maestroall rightI think next year I'm upgrading to thebigger podiumthis is going to be just a second hereI know you're all rooting for me to getmy HDMI cable into this machineall rightokay so with that we see my machineexcellentall right so let's talk about what I'mgoing to be demoing here I'm going tomake this a bit bigger so hopefully youall can see so here's my very simpledemo it's not nearly as fancy as a blogor anything like that these are verylike you'll see a product manager madethis website not a not a designer anengineer so here's some things I want toshow right off the bat right here I'mgoing to have a website this is theangular site it it has like one page ofcontent again nothing I'm not teachingyou angular today you could choose reactyou could choose whatever it's a statichosting service you can use flutter weblike you can choose your front end ofchoice and and get it out there anddeploy it so that's just my choice todayand in there I also have a server and myserver is very complicated it uh it's ait's it's go we decided to stick to theteam of go why not we can havechosen.net we could have chosen you knowother things you know node.js obviouslyEtc but we just go and this thing willreturn hello world that's all there isto it so just architecturally speakingthere's going to be a static site soinstead of like going from from likehalf just in position it right he wentfrom you know I have Cloud run I'm goingto host my thing in Cloud run Cloud runsis where my website is served from I'mgoing to add a custom domain and CDNthrough Firebase so he went kind ofright to left I'm going left to rightI'm saying I'm going to deploy a staticwebsite and that static website willtalk to an API and that API is hostedinside of cloud run it could have beenfunctions it could have been somethird-party API endpoint it doesn'tmatter so that's that's where that isand we're going to go ahead and justkick that off so first of all I wouldneed to deploy my cloud run service sothis is still gcloud so I have g g Cloudtooling installed I'm just going to hitenterum looking at my Wi-Fi connection rightit's going to go do its thingum it's exactly what you can do so I'mnot going to worry I'm going to switchto another terminal and I'm going to sayall right let's Firebase deploy so whatFirebase deploy is doingif I click in the right place thatreally helps so Firebase deploy is goingto look at my at my subfolders and it'sgoing to figure out that I have the theright stuff there and they need to gobuild it I also have a config file thatkind of gives it gives Firebase buildFirebase deployed sorry uh some someconfiguration that it needs and it'sgoing to go and deploy three things itcan also deploy a function we'll comeback to that function in a bit but thisis going to get everything else kind ofin place and going so let's go take alook at what uh oh my God I got thiserror once today whichsomething with my my environment sothere it is there's my error there's mymy fame to failure today at least thisis not a keynote but luckily all this isalready deployed so we will be fine tokeep going so here's my beautifulwebsite uh really really nice I know II'm hearing the Applause and it has abutton if you click the button it talksto an API the API returns hello worldand then it has a field and if I putinto this field an email so there'sthere's an email you hit subscribe it'sgoing to send that to a firestoredatabase so you just saw two differentthings you saw an angular static websitethat that is running completely in thebrowser when they hit the button talk toan API that API was that go server rightit was deployed to Cloud run from SourceI never had to build a container it's sonice and magical and and then the theSubscribe button is actually using theSDK that we build for firestore thedocument database talked about earlierand again right from the client it'stalking to to that data store andsubmitting an email address now in areal world app we'd have authenticationand all of that like this is all make upvery simple don't do thisum obviously we don't want the wholeworld being able to write to myfirestore database I will delete itafter this talk uh but in in the realworld you can totally hook this up andit's real and it's and it works andlet's gotake a look at what this looks like in aFirebase console so in the Firebaseconsole I've created a project you knowsame concept as Google cloud and they'relinked so in this case I have a projectcalled Dimitri cloud next01 and in hereI've been deploying my website so Iclicked in this hosting button andbecause I deployed something I can seeand you're gonna see not my name inthere that's because we have a system toget test account and it auto generates aname I hope that's not a real person butit gave me a name and I'm using it sothis this person and this fake Gmailaccount that they create for me is ableto deploy to my project because I gavethis person rights and these are all thetimes I've deployed you can see thedifferent revisions I can roll back to arevision delete a revision and then Iget the same kind of friendly from theURLs that I just showed you a second agothere there it is and all of this issomething this Firebase created as aconstruct now if I go back to Cloud runthis is my my go that that ghost scriptbasically got deployed from Source hereit is it's seen a little bit of trafficI'm not as popular as Justin's websitewas but this is just this is just Cloudrun right so everything you know aboutCloud run applies here totallyintegrated between us and Firebase theonly thing to consider is like anapplication architecture kind of thingis obviously we're we're globallydistributed CDN when your static contentgoes up to our to our website and wehave a feed here you can go try it outand it's wonderfulum but your your backend is in aspecific region so you just have to keepkeep in mind that well your customerswill be served globally unless you putsomething in front of that API backendthat also figures out how to routepeople to their best back-end endpointyou're not going to get that magicalperformance unless you also cache thatoutput in the CDN that we Justin did andthen you will so you still have to beEngineers you're still gonna have tofigure out some stuff but we try to makeit as much of it as possible easy welisten to your feedback these productsare all actively being worked on uhwe're doing some awesome stuff I wish Icould show you more but I can't todaythis is go you know this is all I can doum so with that just to point out thateverything is exactly how you expectedyou've got everything running so we'regoing to go back tothe slides pleaseall right awesomethe clicker is nowclicking other stuffhow do I do thishelpthis is we need an expert because I'mjust I clicked the wrong thingI don't know how that happenedokay thank you so much uh what will wedo with other people in this world uhwe'd be we'd be stuck in this on thatprevious slide and I'd have to talk toyou about it all right so recappinghosting Global reach a lot of developerproductivity we find people are veryproductive working with our stuff weteach it in school you know kids learnabout it like it's something anyone canpick up and go deploy a static site andhas a great fit here uh the dynamicback-end totally flexible with theGoogle Cloud capability anything thatthat is on run or functions we can wecan route to it just by uh and by theway that routing I I'll show it in asecond when I go back to My Demo machinebut it is it is like one line like Ijust say this service in this regionslash API and Magic there you go we alsohave been uh where we like we obviouslypay attention to where the community isgoing lots of people are building nextJS applications and angular is workingin angular Universal which is anothersimilar kind of things that theserver-side rendering you know thatneeds computing I can so we have anexperimental already up since Google I Othat you can go ahead and try and youcan deploy an xgs app we combinefunctions and host static hostingtogether we merge it we build theconfiguration for you and we deploy itup to our two products together andthat's how you can have a server-siderendering capability so we're definitelypaying attention again we'll we'll workon all of this obviously we want youfolks have a powerful product that meetsyour needs but today this is just anexperiment just calling it out because Idon't I don't have time to demo that I'dlove to show everything today so we'regoing to go ahead and talk about Cloudfunctions for a second so Cloudfunctions is uh like let's let's justtake a step back for a second beforelike I even go to a slide we we asFirebase have a functions product thatfunctions product is actually GoogleCloud functions the reason why ourproduct is called Cloud functions forFirebase is because we add a bunch ofmagic sauce to do certain things thatthe more generic functions productsdoesn't do and doesn't care to dobecause it doesn't have the Firebaseecosystem around it so because we have aFirebase ecosystem we have certainevents which are unique and functions asevent-driven architecture we havecertain events in Firebase so we need toinject those properly we also have theabilityto make kind of different defaultdecisions because we build this for appdevelopers we don't build this for thegeneric audience of somebody who has tothemselves figure out how muchconcurrency to configure or whatever sowe basically created the capability ontop of it an SDK on top of Google Cloudfunctions and that is Decay if I clickin the right direction can do quite afew things authentication firestore justtriggers off tons of events both insidea Firebase and outside of Firebase youcan use node and python as of uh earlierthis year we added python preview so wesupport two programming languages youcan build in because that's what our SDKsupport if you use functions you havemore programming languages but you losesome of this integration capability thatwe will give you and we again just tokind of recap like we are basically whenyou talk about second gen functions uhwe're in good company right we takeadvantage of cloud runwe take advantage of cloud functionsbehind the scenes we actually inherit alot of the capabilities from these twoproducts up to our product and all ofthis allows you to to get up and runningreally quickly so with that I'm going togo ahead back to my machine and switchover to the demo pleasetry not to mess up the slides okayall right let's go back tothis window for a second because like Isaid I forgot to show something that Iwanted to show so if I Collapseeverything back down there's a FirebaseJson file and in my demo previouslywhere I had an API endpoint the one thatsays hello world this this is literallyall I had to do to configure that likewe will do all the all the all the hardstuff for you you just do that and youget an API endpoint on cloud run thatyou can use so kind of magical but it iskind of region specific is the onlything that I want you all to be aware ofall right so with that I'm going to goahead and show you one last thing wehave a a function here so this functiongot deployed it's a second gen functionand again it doesn't matter what thefunction does at this point I'm justgoing to go ahead and show youum something that again some people justdon't realize the thing is this functionis a second gen Google Cloud function soI'm not even in the Firebase consoleit's a Firebase thing I deployed it withFirebase that has Firebase metadataaround it all that stuff but it's just afunction that that is running in GoogleCloud so when people ask me can I dependon Firebase functions I'm like well ifyou depend on Google Cloud yes I meanit's the same the same infrastructure wedidn't we don't build or maintain theinfrastructure we have a million friendsuh all over the world building thisstuff for us and we get to give you anamazing developer experience and theyhave a great UI that that even we don'thave in our console that you can takeadvantage of because it's two productsthat are deeply integratedand then finallyum if you need a solution sometimes yesyou can build your own function you candeploy something in Cloud run but I'mgoing to show you kind of one more bonusthing it's a brand new product we'rebuilding called Firebase extensions HubFirebase extension hubs is all opensource pre-made functions some byFirebase some by Third parties andanyone can publish one if you pass theirvalidation process to this Marketplaceand we have this cool website whichallows you to find all sorts ofpre-made capabilities so in this case Iif I want to let's say send email I cango over here and say trigger email fromfirestore because that's that's what Iwant to do and if I come in here and Iclick that install button again time iskind of running out but it wouldbasically into my infrastructure into myfree tier into my credit card enabledhere depending on how much you use thisfunction like in in your computecapability you can install a functionthat either we made in this case we didnaked it's we're the publisher for thisone or somebody else made and it's opensource so again you'll never haveanything deployed that you can't see orFork it all has to be open source ontheir open license and we've made abunch of things just easier for you wehave stuff to integrate with palm withemail bigquery and all these extensionsyou go here you hit install and then youmanage the Firebase console or CLI andif I had time I would show you theend-to-end demo where I consider myselfspam myself emails I installed thisextension but I didn't configure thegood SMTP server so it won't work but ifI did it would work because people useit in production so we have these greatcapabilities that we're trying to againmake your make your lives a little biteasier make you a little bit moreproductive and with that I will show youthat the function that we deploy forthrough the extension is once again it'sit's in the Google Cloud console becauseit's just a functionum so we we at Firebase well we createMagic none of this magic is hidden fromyou or some built in some other cloud oryou know has some other company who youhave to depend on as long as you use ourextensions as long as you use ourfunctions Etc uh we're a team that triesto to be there for you we can go back tothe slideswait we're hitting timeand thank you all again for for beinghere with usall right recapum so functions uh opinionated defaultswe default for concurrency becausethat's what a lot of web developers needis just one example it's integrated withthe Firebase ecosystem and it's poweredby the Google Cloud platform and boy Iwish everybody knew that because somepeople just still argue with me I'm likeI'm the product Guy It's My Thing uh Iknow for sureum and these products are being workedon so functions we we've just uh G8second gen in following Google Cloud Gand get a little bit earlier than us wehave python supporting data we onhosting we have these experiments aroundthese modern applications we are aboutto release some custom domainimprovements in the console so we'reconstantly trying to make these productsbetter extensions constantly gets newextensions published and we're tuninginto beta product so we're tuning the UIbut the cool thing is that at the end ofthe day extensions even though the thekind of the shell is beta the thing itdeploys is just code and the productionfunctions environment so as long as youcomfortable with that end end resultyou're you're kind of in good hands andagain nothing is behind the firewallthank you all so much thank you thankseverybody"
}